Search.setIndex({docnames:["development/design","development/gerrit-workflow","development/index","development/prow","development/start","development/useful-commands","index","mocking","press","third_party/kernel/index","third_party/stable_kernel/index","usage/faq","usage/getting_kunit","usage/index"],envversion:{"sphinx.domains.c":2,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":3,"sphinx.domains.index":1,"sphinx.domains.javascript":2,"sphinx.domains.math":2,"sphinx.domains.python":2,"sphinx.domains.rst":2,"sphinx.domains.std":2,sphinx:56},filenames:["development/design.rst","development/gerrit-workflow.rst","development/index.rst","development/prow.rst","development/start.rst","development/useful-commands.rst","index.rst","mocking.rst","press.rst","third_party/kernel/index.rst","third_party/stable_kernel/index.rst","usage/faq.rst","usage/getting_kunit.rst","usage/index.rst"],objects:{},objnames:{},objtypes:{},terms:{"1ob":1,"2019":8,"2020":8,"2021":8,"205235":11,"2569":1,"741a98d022362c90609ac9dcd8ad56314d8e68b3":0,"780985":8,"790235":8,"break":7,"case":[1,2,6,7],"char":[0,7],"class":[10,12],"const":[0,7],"default":[1,13],"function":[0,6,12,13],"import":[1,4],"int":7,"long":7,"new":[6,7,8],"null":7,"return":7,"static":7,"super":7,"transient":7,"true":7,"try":[1,6,7,13],"void":[0,7],"while":[1,2,7],And:[7,13],Are:7,Being:7,But:6,For:[0,1,3,4,6,7,9,11,13],Not:7,One:[0,7,8],That:[6,7],The:[0,1,3,4,6,7,12,13],Then:7,There:7,These:[2,6],Useful:[2,6],Using:[4,6],With:[1,7],__always_inlin:7,__mockabl:7,__mockable_wrapp:7,__user:7,_far_:[],_ptr:11,abl:[6,7],about:[1,2,6,7],abov:[4,6,7],accept:[4,7,13],access:6,accident:7,accomplish:[1,5],across:6,act:12,actual:[1,6],add:[1,7],added:0,adding:7,addit:[4,7],address:1,advanc:2,affect:[7,13],after:7,against:[1,7,9,12],all:[0,1,4,6,7,11,12,13],alloc:0,allow:[0,1,7,13],almost:1,along:7,alongsid:13,alpha:[6,12],alreadi:[1,4,7],also:[0,1,6,7,9],amount:[7,13],ani:[0,4,6,7,13],anoth:[1,7],answer:[],api:[0,6,12],append:7,approach:[],apt:13,arbitrari:7,arch:[0,5],architectur:[0,6],argument:[7,13],arm:6,around:[0,4,7],arrai:7,articl:6,asid:[],ask:[6,13],assert:[0,6,7,8],assign:7,associ:0,assum:[1,7],author:7,autotest:[],avail:13,avoid:[6,7],back:7,backport:12,base:[3,7],becaus:[4,7],been:[1,4],befor:[1,7],begin:12,beginn:1,behav:7,behavior:7,behaviour:7,being:[7,13],below:[7,12],best:7,better:7,between:5,big:7,bin:13,bison:13,bit:[7,12],bite:1,blakedebo:1,bliki:7,bodi:1,boil:7,boilerpl:[6,7],bool:[0,7],boot:[0,6],both:[1,7],bottom:1,branch:[9,12,13],briefli:7,bring:7,buffer:7,buflen:7,bug:[0,7],bugzilla:11,build:[0,2,6,7,13],built:[3,7],button:1,cach:7,calcul:7,call:[0,7,13],callsit:7,can:[0,1,3,5,6,7,11,12,13],canon:7,care:7,cast:13,caus:[1,7],ceas:12,certain:[4,6,7],certif:[1,4],cgi:11,challeng:7,chang:[2,7,11,13],changeid:[1,4],check:7,checkout:2,choos:7,cite:[],cla:4,clean:[2,6],cleanli:7,clear:[1,6],clever:7,click:1,cluster:3,code:[1,2,6,7,12,13],coder:7,collect:2,com:[1,3,4,6,7,8,10,12,13],come:[6,7],command:[1,2,6,13],comment:1,commit:[1,4],common:6,commun:0,compani:4,compar:11,compat:12,compil:[0,6],complex:[0,7],complic:[0,7],compon:[0,6],compos:0,concept:7,concern:7,conf:8,confer:8,config:[3,5,13],config_kunit:[7,11],config_kunit_use_upstream_nam:12,config_my_kunit:7,config_my_kunit_test:7,config_test:11,confus:[4,11],consid:7,construct:7,contain:[3,13],container_of:7,content:[2,6,8,13],context:[0,1,7],contrast:7,contribut:2,control:[],conveni:9,convent:7,convert:7,copi:[1,9,10,13],correct:11,correctli:[4,11],corrupt:0,cost:7,could:7,coupl:12,cours:[7,13],cover:13,crash:0,creat:7,current:[0,1,7],d_inod:7,data:7,data_sink:7,databas:7,dealloc:0,death:10,debug:[5,6],decent:7,defconfig:13,defin:[6,7],definit:[0,7],dentri:7,depend:[1,6,7,11,13],deprec:6,describ:[1,7],design:[2,6],desktop:6,detail:[1,4,6,7,11,12,13],dev:[1,4,6,13],develop:[1,6,9,12,13],devic:7,differ:[1,4,6,7,13],direct:7,directli:[4,6,7,12],directori:[6,12],discard:7,discuss:[1,4,7],disk:7,dispatch:7,disqualifi:[],divid:0,dlatypov:7,doc:[1,4,7,9,10,13],document:[0,1,4,9,10],doe:[0,6],doing:[1,7],don:7,done:[1,9,12],doubl:7,down:7,download:1,due:7,dure:7,dynam:7,each:[0,7,13],earlier:[1,11],easi:[1,6,7,13],easier:[0,6,7],easili:7,effect:7,either:7,element:0,elimin:7,els:7,elsewher:[1,7],emploi:7,endif:7,enough:[6,7],entri:11,environ:2,equal:4,err_ptr:7,error:[6,7,12,13],etc:[6,7,10],even:[0,1,7],eventu:7,everi:7,everyon:[4,7],everyth:1,exampl:[0,1,6,7,11],example_simple_test:7,example_write_test:7,execut:0,exist:[2,7],exit:0,expect:[0,11],expect_cal:7,expens:7,explan:[6,12],explicit:7,expos:7,extern:6,face:6,facil:6,facilit:7,fact:7,fail:[0,1,6,7],failur:[0,7,11],fairli:7,fake:[6,12],fake_funct:7,fals:7,familiar:2,fanci:7,far:[6,7],fashion:7,fast:[6,7],faster:[6,7],featur:[0,6,7,10,12],feedback:7,feel:[4,13],fetch:1,fetch_head:1,few:[6,7],figur:7,file:[1,4,5,6,7,11,12,13],find:1,fine:7,finest:[],first:[4,6,7],fix:0,flag:13,flex:13,flexibl:7,fmt:0,focus:6,follow:[0,4,7,13],forc:[1,7],forgot:[1,7],format:[0,4,11,13],forum:6,found:[0,3,12,13],foundat:[4,8],fragil:7,framework:[6,7,8],free:[4,13],frequent:[6,13],friend:7,from:[2,6,7,9,10,13],full:[0,7],fulli:5,func_under_test:7,fundament:7,further:7,furthermor:6,futur:8,gener:[7,13],gerrit:[2,4,6,12],get:[1,2,7,13],get_acl:7,get_acl_err:7,gfp:7,gfp_kernel:7,gfp_t:7,git:[0,1,2,4,9,12],github:[1,3],global:7,gmock:7,goal:7,good:6,googl:[3,4,6,7,12],googlegroup:[4,6,13],googlemock:6,googlesourc:[1,3,4,6,10,12],googletest:[6,7],got:[2,11],granular:[],group:6,guid:[1,4,6,13],guidelin:13,handl:[0,7],handler:0,happen:[0,7],happi:1,happili:7,hard:[6,7],harder:7,hardwar:[0,6,12],has:[3,4,6,7,10,12],hash:[1,7],hashtabl:7,have:[1,4,6,7,9,10,12,13],haven:[10,12],head:[1,4,12,13],heavili:6,hello:7,help:[0,6,13],helper:6,henc:[],here:[0,1,2,3,4,6,7,9,10],hermet:[6,7],high:[1,2],hit:7,hold:7,hood:2,host:[6,12],how:[1,2,7],howev:[4,6,12],html:[1,4,7,13],http:[0,1,3,4,6,7,8,9,10,11,12,13],hub:8,human:0,hurt:7,i_op:7,idea:1,ideal:[6,13],ifdef:7,imagin:7,implement:7,impli:6,improv:[7,11],includ:[0,1,6,7,11],incompat:12,indic:7,indirect:7,individu:0,indrectli:7,inform:[0,1,2,3,4,13],infrastructur:6,inherit:7,init:[0,6],init_mock_writ:7,initcal:0,initi:[0,7],inject:7,inod:7,inode_oper:7,input:7,insert:7,insid:6,inspir:6,instal:13,instanc:12,instead:[6,7,11],instruct:4,integ:13,integr:[3,13],intend:11,interact:[1,5],intercept:7,interfac:[0,6,7],intern:6,intro:1,introduc:7,introduct:[1,4,8],invas:7,invok:0,involv:7,irc:6,isn:7,isol:[],issu:7,its:[0,1,7],itself:[0,2,7,12,13],java:7,job:13,junit:[6,7],just:[0,2,6,7,13],kconfig:13,keep:7,kei:7,kernel:[1,2,7,8,9,11,12,13],kind:7,kmallo:[],kmalloc:7,kmalloc_ptr:7,kmalloc_wrapp:7,know:[1,2,4,7],kokonut:[],kselftest:[0,4,6,9,13],kselftest_modul:6,kubernet:3,kunit:[1,2,9,11],kunit_add_named_resourc:7,kunit_assert:[0,13],kunit_do_assert:0,kunit_expect:11,kunit_expect_:13,kunit_expect_eq:[7,11],kunit_expect_lt:7,kunit_expect_ptr_eq:11,kunit_expect_streq:7,kunit_fail:7,kunit_find_named_resourc:7,kunit_resourc:7,kunit_suit:0,kunit_test:7,kunit_test_suit:0,kunit_tool:5,kunitconfig:[5,11,12,13],lack:7,laid:13,languag:7,larg:7,last:[0,12],later:[6,8],latest:[1,4,13],latter:7,layer:7,lead:7,learn:2,legibl:7,less:[0,7],let:[1,7],level:[1,2,6],lib:[0,12],librari:6,lies:0,life:7,lightweight:[6,7],like:[1,6,7,12,13],limit:[],line:1,link:1,linker:7,linux:[1,2,5,6,8,9,10,12,13],linuxjourn:8,list:[4,6,12,13],live:4,loadabl:[],local:[1,6],locat:1,log:[0,9],log_buf_len:5,logic:1,longer:[4,7],look:[1,6],lost:1,lot:[4,7,13],low:0,lwn:8,machin:6,macro:[7,11,13],made:[1,10,12],mai:[1,4,7,13],mail:[4,6],main:[0,7],mainli:6,maintain:[3,13],make:[0,2,4,5,6,7,12,13],make_mock_datasink:7,makign:[],manag:[4,7,13],managing_st:[],mani:7,manual:[2,6],map:0,mark:7,martinfowl:7,master:[1,4,6,9,12],matrix:6,max_siz:7,maximum:13,mayb:[1,7],mean:[1,4,7,11,13],mem:5,member:7,memori:7,mention:1,mentorship:8,merg:1,mess:7,messag:[0,1,4,11,13],might:[1,2,7],mimic:7,minim:7,mirror:9,misplac:1,miss:[11,13],mistak:7,mitig:7,mock:[6,10,12],mock_get_acl:7,mock_inod:7,mock_inode_init:7,mock_inode_oper:7,mock_readlink:7,mock_writ:7,mock_write_data:7,mock_write_data_resourc:7,mock_write_init:7,mode:[6,13],modifi:1,modul:[6,7,13],more:[0,1,2,3,4,6,7,11,12,13],most:[0,6,7,9,13],mrproper:5,much:[0,6,7],must:4,my_fake_kmalloc:7,n152:0,name:[0,1,12],narrow:7,need:[1,3,6,11,13],net:[0,6,8],network:7,never:[1,7],newer:12,news_item:8,next:[],nice:[0,13],non:[4,7],normal:[0,7],note:7,now:[1,4,6,7],number:13,obj:[],object:[0,5],obvious:7,off:[1,4,7],oftc:6,often:0,old:[1,10,12],onc:[1,7,13],one:[4,7],ones:1,onli:[1,3,7],oop:7,open:4,oper:[6,7],opportun:7,oppos:7,option:[1,7,12],order:4,org:[0,1,4,6,9,11,12,13],organ:2,origin:[1,4,7],oss:3,other:[1,4,6,7,13],otherwis:[1,12],our:[1,3,4,6,7],out:[0,4,6,7,11,13],output:0,outsid:[0,2,7],over:[1,7],overal:7,overhead:7,overrid:7,overview:[0,1,7],own:7,packag:13,packtpub:8,page:[2,7,8,13],pai:7,paramet:7,pars:0,part:[0,7],particular:[7,11],particularli:6,pass:[0,7],past:8,patch:[1,4,7,12,13],path:[1,6,7],pattern:7,peopl:7,per:7,perform:7,phoronix:8,php:8,place:[0,4,6,7],plan:2,platform:12,pleas:[3,4,6,13],plenti:7,plugin:6,plumber:8,pointer:[7,13],pollut:7,posix:0,posix_acl:7,posix_acl_alloc:7,possibl:[6,7,10],potenti:[6,7],power:1,practic:0,prefer:10,prefetchw:7,present:8,press:6,presubmit:[1,2,6],primarili:12,print:[0,1,11,13],prior:12,probabl:[6,7],problem:7,process:[0,1,4,6,13],program:[0,6,7],progress:1,project:1,properli:7,provid:[0,1,2,6,7,13],prow:[1,2,6],ptr1:11,ptr2:11,pub:[0,9,12],publicli:7,pull:[1,7],purpos:0,push:[1,4,7],python:[6,7],question:[6,13],rather:7,reach:4,readabl:0,readi:4,readlink:7,readlink_err:7,real:7,real_funct:7,realist:7,realiz:[1,7],realli:[2,6,10],reason:[],rebas:1,recommend:[7,13],recoveri:12,redirect:6,ref:[1,4,12],refactor:7,refer:[0,1,3,7],regardless:7,regist:0,regular:6,relat:[6,7],relev:[7,13],reli:[6,7],reliabl:7,rememb:4,remot:1,replac:[1,7],repo:[3,4],report:0,repositori:[1,6,9],repres:0,requir:[4,6,7,11],reserv:7,resort:12,resourc:[0,6],respect:[],respond:1,result:[0,13],retriev:7,revert:7,review:[4,13],rfc:7,right:[4,7],riot:6,risk:7,robust:7,root:13,roughli:7,row:7,rule:[4,13],run:[0,1,2,3,6],runner:3,runtim:7,safe:7,sai:[1,4,7],said:1,same:[1,6,7],sandbox:0,scabil:7,scale:7,scan:8,scatter:6,schedul:0,scm:[0,9,12],scope:0,scratch:[2,6],screen:13,script:6,second:[6,7],secret:1,section:[1,4,7],see:[0,1,2,4,6,7,12,13],seek:7,seem:7,seen:7,selftest:6,semant:7,send:[4,7,13],send_data:7,send_data_func:7,send_data_to_hardwar:7,send_op:7,sens:7,sent:4,separ:7,seri:[8,12],serv:0,set:[0,2,6,7,12,13],sever:[0,1,6],share:7,shenanigan:7,should:[1,4,7,10,12,13],should_return_error:7,show:0,show_bug:11,shuah:[0,9],sign:1,signatur:7,similar:7,similarli:13,simpler:7,simplest:7,simpli:7,sinc:[7,12],singl:7,sink:7,size:1,size_t:7,small:6,solut:7,some:[0,1,6,7,10,11],some_test_funct:7,someon:7,someth:[1,7],sometim:5,somewhat:7,somewher:7,sophist:7,sourc:[4,13],sourceforg:0,sparingli:7,special:[3,6,7],specif:[0,7],specifi:[3,11,13],spelt:11,spy:[],stabl:6,stage:1,standalon:6,start:[2,6,13],stash:7,state:[6,13],still:[4,7,10,13],store:[6,12],str:7,stragegi:8,straightforward:7,string:0,strip:7,struct:[0,13],structur:[2,7],stub:6,stuff:7,subject:1,submiss:2,submit:[1,6],subsequ:7,subsystem:[0,13],subsytem:0,succe:1,sudo:13,suffici:7,suit:[0,6],suitabl:7,summar:[0,7],support:[0,1,3,6,7],suppos:[],sure:[4,11],swap:7,syntax:7,system:[0,2,3,6,13],tabl:7,take:[0,1,6,7],taken:[9,10],talk:6,target:7,task:7,techniqu:7,tell:1,tempor:7,term:7,termin:0,terminolog:7,test:[1,3,5,7,8,10,11,12],test_send_data:7,testdoubl:7,than:[0,4,7],thei:[6,7,13],them:[1,6,7,13],themselv:7,thi:[0,1,2,4,6,9,11,12,13],thing:[3,7],third_parti:[],those:1,though:[1,13],thread:[7,13],through:[0,4],throughout:7,thu:4,tied:7,time:13,timeout:13,times_cal:7,tip:2,todo:7,togeth:7,too:7,tool:[6,13],top:[1,6],torvald:[9,12],track:7,trade:7,trap:0,treat:13,tree:[0,5],trick:2,trigger:6,truth:7,twice:7,two:[0,7],type:7,typic:[5,7],umbrella:4,uml:[0,7,13],unchang:7,under:[1,2,4,6,7,13],understand:[1,7],underwai:1,uninterest:7,unit:[1,7,8],unittest:[6,7],unless:[7,13],unlik:[6,7],unrealist:7,unsaf:7,until:7,unwis:7,updat:[2,7],upstream:[1,4,6,10],usag:[6,12],use:[1,2,3,4,7,11,12,13],used:[1,6,7,11,12],useful:[5,6,7],useless:7,user:[1,4,6,7,13],userspac:[0,6,7],uses:13,using:[2,7,10,13],usual:[1,6],vagu:1,valid:[7,13],valu:7,valuabl:7,variabl:7,variant:11,variou:[7,13],veri:[1,7],verifi:[7,13],version:[1,6,7,11,13],versu:6,vger:[4,13],via:[4,6,7,13],vim:6,virtual:[0,6],wai:[0,6,7,10,12],wait:[1,6],want:[1,2,6,7,12,13],warn:7,weak:7,web:6,well:6,were:1,what:[1,7],when:[0,1,6,7,11],where:[0,1,7,13],wherea:7,whether:0,which:[0,1,3,6,7,12,13],whole:[1,7],why:[],willonc:7,wish:11,within:[0,1],without:[0,6,13],won:7,wonder:1,work:[0,1,2,6,7,12,13],workaround:[0,7],workflow:[2,4,6],workstat:6,world:7,would:[0,1,7],wrapper:[0,7],write:[6,7],writer:7,written:[7,12],wrong:11,www:[1,4,6,8,13],x86:6,year:8,yell:1,yet:[1,12],you:[1,2,4,6,7,10,11,12,13],your:[2,7,11,13],yourself:2},titles:["KUnit Design","Gerrit Workflow","Development","Prow Presubmit for KUnit Gerrit","Getting Started Developing KUnit","Useful Commands","KUnit","Fakes and Stubbing and Mocks, Oh My!","Press","Upstream Version","Deprecated Version (\u201ckunit/alpha/master\u201d)","Frequently Asked Questions","Getting KUnit","Using KUnit"],titleterms:{"case":0,"class":7,"function":7,Useful:5,Using:[7,13],__weak:7,about:8,access:7,again:1,agreement:4,alpha:10,approach:7,articl:8,ask:11,binari:7,boilerpl:[],branch:1,build:5,cast:11,chang:[1,4],check:1,checkout:1,clean:5,clone:1,code:[4,9,10],command:5,compil:7,con:7,config:11,connect:6,contain:11,contribut:[4,6],contributor:4,date:1,deprec:[10,12],design:[0,4],desir:1,develop:[2,4],distinct:4,downsid:7,els:1,environ:4,error:11,exist:1,fake:7,familiar:4,first:1,frequent:11,from:[1,11],ftrace:7,gerrit:[1,3],get:[4,6,9,10,12],guid:[9,10],high:0,how:6,hybrid:7,integ:11,kconfig:11,kernel:[0,4,5,6],kunit:[0,3,4,5,6,7,8,10,12,13],kunit_assert:11,kunit_tool:0,level:[0,7],librari:0,licens:4,limit:7,link:7,linux:[0,4],lot:11,make:[1,11],manual:5,master:10,mock:7,mode:0,more:[],name:7,need:7,ops:7,out:1,outsid:4,pointer:11,press:8,presubmit:3,pro:7,prow:3,question:11,redirect:7,repo:1,resourc:7,review:1,root:11,run:[5,7,13],runner:0,scope:7,scratch:1,see:11,send:1,set:4,sign:4,someon:1,start:[1,4,9,10],state:7,store:7,struct:7,structur:0,stub:7,submit:[4,13],sure:1,symbol:7,talk:8,test:[0,6,13],thi:7,time:[1,7],uml:6,unit:6,updat:1,upsid:7,upstream:[9,12,13],use:6,user:0,valid:11,version:[9,10,12],versu:7,what:6,where:[6,9,10,12],who:6,why:[4,6,7],without:[7,11],work:4,workflow:1,write:13,your:[1,4],yourself:4}})