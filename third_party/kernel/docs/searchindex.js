Search.setIndex({"docnames": ["api/functionredirection", "api/index", "api/resource", "api/test", "architecture", "faq", "index", "run_manual", "run_wrapper", "running_tips", "start", "style", "usage"], "filenames": ["api/functionredirection.rst", "api/index.rst", "api/resource.rst", "api/test.rst", "architecture.rst", "faq.rst", "index.rst", "run_manual.rst", "run_wrapper.rst", "running_tips.rst", "start.rst", "style.rst", "usage.rst"], "titles": ["Function Redirection API", "API Reference", "Resource API", "Test API", "KUnit Architecture", "Frequently Asked Questions", "KUnit - Linux Kernel Unit Testing", "Run Tests without kunit_tool", "Running tests with kunit_tool", "Tips For Running KUnit Tests", "Getting Started", "Test Style and Nomenclature", "Writing Tests"], "terms": {"when": [0, 2, 3, 4, 5, 7, 8, 9, 10, 11, 12], "write": [0, 3, 5, 8, 9, 11], "unit": [0, 3, 4, 11, 12], "test": [0, 1, 2], "": [0, 2, 3, 5, 6, 9, 10, 11, 12], "import": [0, 8, 9], "abl": [0, 11, 12], "isol": [0, 5, 6, 9], "code": [0, 3, 4, 5, 6, 8, 10, 11], "being": [0, 2, 3, 4, 5, 10, 11], "from": [0, 2, 3, 4, 6, 7, 8, 10, 11, 12], "other": [0, 3, 4, 6, 7, 8, 9, 10, 11], "part": [0, 4, 5, 6, 8, 9, 11, 12], "kernel": [0, 1, 5, 8, 11, 12], "thi": [0, 1, 2, 3, 4, 6, 7, 8, 9, 10, 11, 12], "ensur": [0, 4, 8, 10, 12], "reliabl": 0, "won": [0, 2, 9, 10], "t": [0, 2, 7, 9, 10, 12], "affect": [0, 4, 10, 12], "extern": [0, 5, 6], "factor": 0, "reduc": [0, 2, 7, 11, 12], "depend": [0, 4, 5, 6, 7, 8, 9, 11, 12], "specif": [0, 4, 8, 9, 10, 11, 12], "hardwar": [0, 5, 6, 7, 12], "config": [0, 4, 5, 7, 8, 9, 10, 11], "option": [0, 2, 3, 4, 7, 8, 9, 10, 12], "make": [0, 3, 4, 5, 8, 9, 10, 11, 12], "easier": [0, 9], "run": [0, 2, 3, 4, 6, 11, 12], "protect": 0, "stabil": [0, 7], "rest": [0, 6, 12], "system": [0, 2, 5, 6, 7, 8, 10, 11, 12], "less": [0, 3, 6, 9], "like": [0, 2, 3, 5, 6, 8, 9, 10, 11, 12], "state": [0, 2, 3, 4, 6, 10, 11, 12], "interfer": 0, "while": [0, 10, 11], "some": [0, 3, 4, 5, 7, 9, 10, 11, 12], "typic": [0, 3], "gener": [0, 3, 4, 8, 10, 11, 12], "data": [0, 2, 3, 4, 6, 10, 12], "structur": [0, 3, 6, 12], "helper": [0, 2, 3, 12], "pure": [0, 3], "i": [0, 1, 2, 3, 4, 7, 8, 9, 10, 11, 12], "trivial": 0, "devic": [0, 6, 12], "driver": [0, 5, 6, 10, 11], "filesystem": [0, 5, 7, 11], "core": [0, 5, 8], "subsystem": [0, 6, 8], "heavili": 0, "coupl": 0, "often": [0, 5, 11, 12], "due": [0, 2, 12], "global": [0, 11, 12], "wai": [0, 6, 7, 8, 9, 10, 11, 12], "list": [0, 2, 3, 4, 8, 10, 11, 12], "need": [0, 2, 5, 7, 8, 9, 10, 11, 12], "either": [0, 2, 4, 6, 7, 8, 11, 12], "carefulli": 0, "manag": [0, 2, 3, 6], "restor": 0, "thei": [0, 2, 3, 5, 7, 8, 9, 10, 11, 12], "can": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "avoid": [0, 11, 12], "altogeth": 0, "replac": [0, 8, 10, 12], "access": [0, 3, 6, 7], "mutat": 0, "fake": 0, "mock": [0, 6, 12], "variant": [0, 12], "By": [0, 8, 10, 12], "refactor": 0, "introduc": 0, "layer": 0, "indirect": 0, "which": [0, 2, 3, 4, 5, 8, 11, 12], "us": [0, 2, 3, 4, 5, 7, 8, 10, 11, 12], "emul": [0, 4, 7], "separ": [0, 4, 8, 10, 11], "set": [0, 2, 3, 5, 8, 10, 11, 12], "howev": [0, 3, 5, 9, 10, 12], "come": [0, 12], "its": [0, 5, 9, 10, 11], "own": [0, 8, 12], "cost": [0, 6, 9], "undertak": 0, "signific": 0, "befor": [0, 3, 4, 5, 8, 9, 10, 12], "suboptim": 0, "A": [0, 3, 4, 5, 6, 8, 10, 11, 12], "simpler": 0, "intercept": 0, "call": [0, 2, 3, 4, 6, 8, 11, 12], "via": [0, 2, 3, 8, 9, 12], "ar": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "one": [0, 2, 3, 5, 8, 9, 10, 11, 12], "real": [0, 7, 12], "anoth": [0, 5, 12], "It": [0, 1, 2, 4, 5, 6, 7, 8, 9, 10, 11, 12], "work": [0, 3, 4, 6, 8, 9, 10, 12], "ad": [0, 9, 11], "macro": [0, 3, 11, 12], "check": [0, 4, 9, 10, 12], "see": [0, 2, 3, 4, 5, 8, 9, 10, 12], "avail": [0, 3, 4, 5, 8, 12], "If": [0, 2, 3, 4, 5, 7, 8, 9, 10, 11, 12], "so": [0, 2, 6, 8, 9, 11, 12], "place": [0, 3, 8, 11], "origin": 0, "pretti": 0, "straightforward": [0, 9], "add": [0, 2, 3, 8, 9, 10, 11, 12], "kunit_static_stub_redirect": 0, "start": [0, 4, 6, 8], "should": [0, 2, 3, 6, 8, 9, 10, 11, 12], "first": [0, 3, 6, 12], "statement": [0, 6, 9, 12], "after": [0, 3, 4, 5, 8, 9, 10, 11, 12], "ani": [0, 2, 3, 4, 5, 6, 7, 8, 10, 12], "variabl": [0, 3, 8, 12], "declar": [0, 3, 12], "take": [0, 3, 10, 11, 12], "name": [0, 2, 3, 4, 5, 6, 8, 9, 12], "follow": [0, 1, 3, 4, 6, 8, 9, 10, 11, 12], "all": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "argument": [0, 3, 4, 6, 9, 10, 12], "pass": [0, 2, 3, 4, 8, 9, 10, 11, 12], "For": [0, 4, 5, 6, 7, 8, 10, 11], "exampl": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "void": [0, 2, 3, 4, 10, 12], "send_data_to_hardwar": 0, "const": [0, 2, 3, 12], "char": [0, 2, 3, 12], "str": [0, 12], "implement": [0, 4, 6, 11, 12], "more": [0, 2, 3, 5, 9, 10, 11, 12], "These": [0, 4, 8, 11, 12], "have": [0, 4, 5, 6, 7, 8, 9, 10, 11, 12], "same": [0, 2, 3, 8, 9, 10, 11, 12], "signatur": [0, 3, 4, 12], "In": [0, 3, 5, 6, 8, 10, 11, 12], "event": [0, 4, 11], "modifi": [0, 11], "kunit_get_current_test": [0, 12], "get": [0, 2, 6, 9, 12], "struct": [0, 2, 3, 4, 10, 11, 12], "kunit": [0, 1, 2, 3, 7, 8, 11, 12], "pointer": [0, 2, 3, 4, 12], "expect": [0, 3, 4, 6, 10], "assert": [0, 2, 3, 6], "look": [0, 6, 10, 11, 12], "up": [0, 2, 3, 5, 9, 11, 12], "resourc": [0, 1, 3, 8, 12], "fake_send_data_to_hardwar": 0, "kunit_expect_streq": [0, 3, 12], "hello": [0, 12], "world": [0, 12], "activ": 0, "your": [0, 2, 6, 8, 9, 11, 12], "within": [0, 2, 6, 11, 12], "enabl": [0, 4, 5, 7, 8, 9, 10, 11, 12], "kunit_activate_static_stub": 0, "accept": [0, 4, 6, 8, 9, 12], "you": [0, 2, 4, 5, 6, 8, 9, 10, 11, 12], "sever": [0, 8, 11], "time": [0, 2, 4, 6, 8, 10, 11, 12], "differ": [0, 3, 4, 6, 8, 9, 10, 11, 12], "swap": 0, "out": [0, 2, 7, 9, 10, 12], "our": [0, 7, 8, 9, 12], "would": [0, 5, 9, 11, 12], "perhap": 0, "indirectli": [0, 3], "onc": [0, 2, 3, 4, 7, 8, 12], "instead": [0, 2, 4, 5, 8, 9, 10, 12], "Such": 0, "mai": [0, 3, 5, 7, 8, 10, 11, 12], "buri": 0, "deep": 0, "must": [0, 2, 3, 8, 10, 11, 12], "occur": [0, 5], "kthread": [0, 12], "succe": 0, "someth": [0, 8, 12], "els": [0, 12], "fail": [0, 2, 3, 4, 6, 8, 9, 10], "disabl": [0, 5, 8, 10, 12], "longer": [0, 2, 9], "henc": [0, 5, 9, 10], "resum": 0, "behaviour": 0, "kunit_deactivate_static_stub": 0, "otherwis": [0, 2, 3, 8, 10, 12], "automat": [0, 2, 3, 5, 6, 7, 11, 12], "exit": [0, 2, 3, 4, 9, 12], "also": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "possibl": [0, 5, 6, 7, 8, 9, 10, 11, 12], "file": [0, 2, 3, 4, 5, 6, 9, 10, 12], "int": [0, 2, 3, 10, 12], "times_cal": 0, "0": [0, 2, 3, 8, 9, 10, 12], "case": [0, 2, 3, 6, 9, 10], "durat": 0, "kunit_expect_eq": [0, 3, 10, 12], "1": [0, 3, 8, 9, 10, 12], "deactiv": 0, "earli": [0, 2, 9, 12], "want": [0, 7, 8, 9, 10, 12], "again": 0, "real_fn_nam": 0, "arg": [0, 12], "exist": [0, 3, 4, 5, 7, 8, 9, 10, 11], "paramet": [0, 2, 3, 4, 5, 12], "The": [0, 2, 3, 4, 6, 7, 8, 9, 10, 11], "an": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "identifi": [0, 11, 12], "string": [0, 3, 12], "descript": [0, 2, 3, 11], "prologu": 0, "allow": [0, 3, 5, 6, 8, 12], "current": [0, 3, 4, 5, 6, 7, 8, 9, 10], "kunit_trigger_static_stub": 0, "return": [0, 2, 3, 4, 10, 12], "caller": [0, 2, 12], "context": [0, 2, 3, 4, 11, 12], "continu": [0, 3, 12], "execut": [0, 2, 3, 4, 5, 9, 10], "normal": [0, 2, 9, 12], "real_func": 0, "n": [0, 3, 11], "replacement_func": 0, "42": [0, 9, 12], "example_test": [0, 10], "real_fn_addr": 0, "replacement_addr": 0, "address": [0, 4, 10], "even": [0, 2, 3, 12], "point": [0, 10], "begin": 0, "type": [0, 3, 4, 11, 12], "configur": [0, 4, 5, 6, 9], "real_fn": 0, "previous": [0, 3], "page": [1, 10], "document": [1, 2, 3, 4, 6, 8, 9, 10, 11, 12], "divid": [1, 4], "section": [1, 3, 4, 6, 8, 9, 10, 12], "dev": [1, 3, 4, 5, 6, 8, 9, 10, 11, 12], "tool": [1, 4, 5, 6, 8, 10, 11, 12], "rst": [1, 4, 6, 8, 9, 10, 12], "standard": [1, 3, 4, 8, 12], "functionredirect": 1, "function": [1, 2, 3, 4, 6, 9, 11], "redirect": 1, "most": [2, 3, 5, 7, 8, 9, 10, 12], "user": [2, 3, 4, 6, 10, 12], "directli": [2, 4, 5, 10, 11, 12], "power": [2, 6], "store": [2, 3, 4, 8, 12], "per": [2, 3, 12], "basi": [2, 9], "regist": [2, 3, 4, 6], "custom": [2, 4, 6, 8], "cleanup": [2, 6], "action": [2, 6], "kunit_resourc": [2, 12], "repres": [2, 3, 4, 12], "definit": [2, 3, 4, 8, 12], "kunit_resource_free_t": 2, "free": [2, 3, 6, 12], "member": [2, 3, 11, 12], "arbitrari": [2, 3, 4, 9], "suppli": [2, 4], "clean": [2, 3, 5, 10, 12], "end": [2, 4, 5, 7, 10, 12], "perform": [2, 4, 12], "itself": [2, 5, 10, 11, 12], "freed": [2, 12], "kfree": [2, 3, 12], "wa": [2, 3, 5, 12], "alloc": [2, 3, 6], "e": [2, 4, 5, 9, 11, 12], "g": [2, 5, 9, 12], "kunit_alloc_resourc": 2, "refer": [2, 3, 6, 11], "count": [2, 12], "retriev": [2, 4], "kunit_alloc_and_get_resourc": 2, "kunit_find_resourc": 2, "we": [2, 3, 5, 7, 8, 9, 10, 11, 12], "kunit_put_resourc": 2, "finish": 2, "note": [2, 3, 5, 10, 12], "doe": [2, 3, 4, 6, 7, 8, 9, 10, 12], "requir": [2, 4, 5, 8, 10, 11, 12], "kunit_resource_put": 2, "becaus": [2, 3, 10, 11, 12], "kunit_kmalloc_param": 2, "size_t": [2, 3, 12], "size": [2, 3, 12], "gfp_t": [2, 3], "gfp": [2, 3], "static": [2, 3, 4, 5, 6, 10, 11], "kunit_kmalloc_init": 2, "re": [2, 5, 9, 10], "param": [2, 3, 9], "kmalloc": [2, 3], "enomem": 2, "kunit_kmalloc_fre": 2, "kunit_kmalloc": [2, 3], "lookup": 2, "remov": [2, 8, 9, 10], "done": [2, 3, 12], "kunit_add_named_resourc": 2, "kunit_find_named_resourc": 2, "kunit_destroy_named_resourc": 2, "uniqu": 2, "instanc": [2, 3, 8, 12], "kunit_get_resourc": 2, "hold": 2, "drop": 2, "maintain": [2, 9, 11], "util": [2, 4], "associ": [2, 3, 4, 5, 12], "onli": [2, 3, 5, 6, 8, 9, 10, 11], "alloc_and_get": 2, "find": [2, 6, 10, 11], "__kunit_add_resourc": 2, "kunit_resource_init_t": 2, "init": [2, 3, 4, 12], "intern": [2, 3, 6, 10, 12], "object": [2, 3, 4, 6, 8, 12], "initi": [2, 3, 6, 9, 11], "result": [2, 3, 5, 6, 7, 10, 11, 12], "none": [2, 5], "valu": [2, 3, 4, 10, 11, 12], "simpli": 2, "field": [2, 4, 12], "should_kfre": 2, "initialis": 2, "kunit_add_resourc": 2, "internal_gfp": 2, "unsur": [2, 11], "gfp_kernel": [2, 3, 12], "effect": 2, "ident": [2, 3, 12], "just": [2, 3, 5, 9, 10, 11, 12], "therefor": [2, 6, 8, 9, 12], "increment": 2, "refcount": 2, "ve": 2, "memori": [2, 3, 4, 6], "specifi": [2, 3, 4, 8, 9, 10, 11, 12], "compat": [2, 6], "bool": [2, 10], "kunit_resource_name_match": 2, "match_nam": 2, "match": [2, 10, 11], "belong": [2, 3, 11, 12], "against": [2, 5, 6], "kunit_resource_match_t": 2, "match_data": 2, "appli": 2, "kunit_destroy_resourc": 2, "destroi": 2, "whether": [2, 4, 12], "given": [2, 3, 8], "found": [2, 4, 8], "enoent": 2, "kunit_remove_resourc": 2, "immedi": [2, 3, 4, 12], "sinc": [2, 12], "ha": [2, 3, 4, 5, 6, 8, 9, 10, 11, 12], "final": [2, 5, 12], "kunit_add_act": [2, 3, 12], "kunit_action_t": [2, 12], "ctx": [2, 12], "func": 2, "defer": [2, 12], "until": [2, 12], "failur": [2, 3, 4, 10, 12], "addit": [2, 4, 6, 8, 10, 12], "opposit": [2, 3], "order": [2, 4, 6, 8, 12], "were": 2, "abort": [2, 3, 12], "devm_add_act": 2, "devr": 2, "equival": [2, 3, 8], "success": 2, "error": [2, 3, 4, 5, 6, 9, 10], "could": [2, 5, 9, 11, 12], "kunit_add_action_or_reset": [2, 12], "cannot": [2, 3, 11, 12], "creat": [2, 3, 6, 9, 10, 12], "devm_add_action_or_reset": 2, "kunit_remove_act": [2, 12], "cancel": [2, 12], "trigger": [2, 10, 12], "prevent": [2, 3, 12], "termin": [2, 3, 4, 12], "pair": 2, "multipl": [2, 4, 6, 11], "recent": 2, "devm_remove_act": 2, "kunit_release_act": [2, 12], "rather": [2, 8, 12], "than": [2, 3, 6, 8, 9, 10, 12], "here": [2, 5, 9, 12], "deferr": 2, "devm_release_act": 2, "enum": 3, "kunit_statu": 3, "suit": [3, 5, 6, 8, 10], "constant": 3, "kunit_success": 3, "denot": [3, 4], "nor": 3, "been": 3, "skip": [3, 12], "kunit_failur": 3, "kunit_skip": 3, "kunit_cas": [3, 4, 10, 12], "individu": [3, 7, 8, 11], "run_cas": 3, "generate_param": 3, "prev": 3, "desc": [3, 12], "actual": [3, 11, 12], "parameter": 3, "kunit_expect_tru": 3, "kunit_assert_tru": 3, "about": [3, 9, 11, 12], "under": [3, 5, 6, 8, 10, 11, 12], "each": [3, 4, 8, 9, 12], "kunit_suit": [3, 4, 9, 10, 11, 12], "addition": 3, "everi": [3, 10, 11, 12], "arrai": [3, 4, 12], "empti": 3, "add_test_bas": [3, 12], "2": [3, 8, 10, 12], "int_max": [3, 10, 12], "int_min": [3, 10, 12], "example_test_cas": [3, 4, 12], "test_nam": 3, "symbol": 3, "how": [3, 9, 10], "kunit_case_param": [3, 4, 12], "gen_param": 3, "creation": 3, "lazili": 3, "seri": 3, "arbitrarili": 3, "fit": 3, "deriv": [3, 12], "next": [3, 4, 6, 9, 11, 12], "null": [3, 4, 9, 11, 12], "kunit_param_desc_s": 3, "describ": 3, "relat": [3, 11, 12], "collect": [3, 4, 5, 8, 11, 12], "256": 3, "suite_init": [3, 12], "suite_exit": [3, 12], "test_cas": [3, 4, 10, 12], "inform": [3, 5, 9, 10, 11, 12], "similar": [3, 5, 11, 12], "notion": 3, "fixtur": 3, "class": [3, 4], "framework": [3, 5, 6, 10, 11, 12], "junit": [3, 6], "googletest": [3, 6], "sure": [3, 5, 12], "handl": [3, 8, 9, 12], "inconsist": [3, 12], "priv": [3, 4, 12], "commonli": [3, 8], "privat": [3, 12], "public": 3, "except": [3, 4, 12], "writer": 3, "kunit_test_suit": [3, 4, 10, 12], "__suit": 3, "elf": 3, "builtin": 3, "executor": 3, "boot": [3, 4, 5, 6, 7, 8, 9, 10], "built": [3, 4, 5, 6, 7, 8, 10, 11, 12], "modul": [3, 4, 5, 6, 7, 10, 12], "load": [3, 5, 6, 7, 10, 12], "kunit_test_init_section_suit": 3, "contain": [3, 4, 8, 10, 11, 12], "suppress": 3, "modpost": 3, "warn": [3, 8, 10, 12], "referenc": 3, "mark": [3, 4], "__init": 3, "__initdata": 3, "ok": [3, 9], "upon": 3, "dure": [3, 9], "phase": 3, "TO": 3, "ever": 3, "exclud": [3, 6], "thing": [3, 5, 6, 10, 12], "suffix": [3, 11], "_probe": 3, "manner": [3, 6], "kunit_kmalloc_arrai": [3, 12], "kmalloc_arrai": 3, "number": [3, 5, 8, 10, 12], "element": [3, 11], "byte": [3, 12], "desir": [3, 10], "flag": [3, 6, 8, 9], "underli": [3, 12], "conclud": 3, "regardless": [3, 9], "kunit_kfre": 3, "ptr": 3, "kunit_kzalloc": [3, 12], "zero": [3, 9], "kzalloc": [3, 12], "kunit_kcalloc": 3, "kcalloc": 3, "kunit_mark_skip": 3, "test_or_suit": 3, "fmt": [3, 12], "printk": 3, "style": [3, 6, 8], "format": [3, 4, 6, 7, 8, 9, 10, 12], "output": [3, 4, 8, 9, 10, 11, 12], "statu": 3, "comment": [3, 9], "reason": [3, 11, 12], "halt": 3, "kunit_info": 3, "print": [3, 4, 8, 10, 12], "info": [3, 9], "level": [3, 9], "messag": [3, 4, 5, 6], "kunit_warn": 3, "kunit_err": 3, "kunit_succe": 3, "op": [3, 4, 12], "clariti": 3, "kunit_fail": [3, 10, 12], "word": [3, 11], "noth": [3, 12], "alwai": [3, 5, 7, 12], "caus": [3, 5, 9, 11, 12], "evalu": 3, "made": [3, 12], "consequ": 3, "condit": [3, 11, 12], "express": 3, "true": [3, 4, 5], "boolean": [3, 4], "form": [3, 11], "kunit_expect_": 3, "met": 3, "known": [3, 11, 12], "kunit_expect_fals": 3, "fals": [3, 9, 11], "left": [3, 10], "right": [3, 10], "equal": [3, 4], "primit": 3, "c": [3, 4, 6, 9, 10, 11, 12], "semant": 3, "kunit_expect_ptr_eq": 3, "kunit_expect_n": 3, "kunit_expect_ptr_n": 3, "kunit_expect_lt": 3, "kunit_expect_l": [3, 12], "kunit_expect_gt": 3, "greater": [3, 6], "kunit_expect_g": 3, "strcmp": 3, "kunit_expect_strneq": 3, "kunit_expect_memeq": 3, "compar": [3, 6, 12], "memcmp": 3, "although": 3, "block": [3, 8], "recommend": [3, 11, 12], "kunit_expect_memneq": 3, "kunit_expect_nul": 3, "kunit_expect_not_nul": 3, "kunit_expect_not_err_or_nul": 3, "err": [3, 4], "errno": [3, 10], "is_err_or_nul": 3, "kunit_assert_": 3, "unlik": 3, "kunit_assert_fals": 3, "kunit_assert_eq": [3, 12], "kunit_assert_ptr_eq": 3, "kunit_assert_n": 3, "kunit_assert_ptr_n": 3, "kunit_assert_lt": 3, "kunit_assert_l": 3, "kunit_assert_gt": 3, "kunit_assert_g": 3, "kunit_assert_streq": [3, 12], "kunit_assert_strneq": 3, "kunit_assert_nul": 3, "kunit_assert_not_nul": 3, "kunit_assert_not_err_or_nul": [3, 12], "kunit_array_param": [3, 12], "get_desc": 3, "defin": [3, 4, 6, 8, 10, 12], "prefix": [3, 8, 10, 11], "convert": [3, 12], "default": [3, 8, 10, 11], "name_gen_param": 3, "two": [4, 5, 8, 12], "librari": [4, 5, 12], "support": [4, 6, 7, 8, 9, 10, 12], "written": [4, 5, 6, 7, 8, 11], "task": [4, 12], "organ": 4, "provid": [4, 5, 6, 8, 10, 11, 12], "fundament": [4, 12], "organis": 4, "wrap": 4, "receiv": 4, "track": [4, 5], "As": [4, 8, 9, 10, 11], "setup": [4, 12], "param_valu": [4, 12], "includ": [4, 7, 8, 10, 11, 12], "example_test_foo": [4, 12], "example_test_bar": [4, 12], "example_test_baz": [4, 12], "example_test_suit": [4, 12], "example_test_init": [4, 12], "example_test_exit": [4, 12], "abov": [4, 5, 8, 11, 12], "linker": [4, 12], "kunit_t": 4, "asm": 4, "vmlinux": [4, 5], "ld": 4, "h": [4, 10, 12], "consist": [4, 11], "popul": 4, "iter": [4, 12], "over": [4, 12], "compil": [4, 5, 8, 9, 10, 11, 12], "diagram": 4, "On": [4, 5, 12], "lib": [4, 6, 8, 9], "module_init": 4, "do": [4, 7, 9, 10, 11, 12], "thread": [4, 8], "kunit_try_catch_run": 4, "try": [4, 5, 12], "catch": 4, "verifi": [4, 6, 8], "kunit_": 4, "_": 4, "_msg": [4, 12], "properti": [4, 11, 12], "determin": [4, 5], "flow": 4, "log": [4, 6, 7, 8, 9, 10, 12], "hand": [4, 12], "__noreturn": 4, "__kunit_abort": 4, "kunit_try_catch_throw": 4, "kunit_try_catch": [4, 11], "try_catch": [4, 11], "kthread_complete_and_exit": 4, "complet": [4, 6, 12], "long": [4, 6, 8, 10, 11], "special": [4, 12], "eq": 4, "not_err_or_nul": 4, "ktap": [4, 6], "base": [4, 8, 11, 12], "tap14": 4, "kselftest": [4, 6], "dmesg": [4, 7, 8, 9], "debugf": [4, 7], "invok": 4, "previou": 4, "common": [4, 6, 8, 10, 11], "python": [4, 6, 8, 10, 12], "script": [4, 6, 8, 10], "py": [4, 5, 6, 8, 10], "build": [4, 5, 6, 9, 10, 11], "pars": [4, 5, 6, 7, 9, 10], "correct": 4, "manual": [4, 5, 6, 7, 8, 10], "run_manu": [4, 8, 10], "run_wrapp": [4, 10], "kunitconfig": [4, 6, 9, 10], "qemu_config": [4, 8], "folder": 4, "qemu": [4, 5, 6, 10, 12], "powerpc": 4, "both": [4, 11], "superset": [4, 10], "combin": [4, 9], "olddefconfig": 4, "regener": 4, "becom": [4, 12], "kconfig": [4, 6, 8, 9], "correctli": [4, 10, 12], "kunit_config": 4, "kunit_kernel": 4, "through": [4, 6, 10], "tree": [4, 8, 10, 11], "build_dir": [4, 8, 10], "To": [4, 6, 8, 10, 11, 12], "exec": [4, 5, 8], "mode": [4, 6], "linux": [4, 5, 8, 9, 10, 12], "read": [4, 6, 7, 8, 10, 12], "stdout": [4, 8, 9], "them": [4, 5, 6, 8, 9, 12], "alreadi": [4, 8, 11], "displai": [4, 6, 8], "extract": [4, 9], "summari": [4, 8], "diagnost": 4, "suppos": 5, "singl": [5, 6, 11, 12], "finest": [5, 6], "granular": [5, 6], "path": [5, 6, 8, 10, 11], "small": [5, 6], "outsid": [5, 6, 11, 12], "control": [5, 6, 12], "There": [5, 9, 10, 11, 12], "instal": [5, 6, 8, 9], "machin": 5, "virtual": 5, "userspac": 5, "disqualifi": 5, "consid": 5, "ye": 5, "mostli": 5, "infrastructur": 5, "wrapper": [5, 6, 12], "might": [5, 8, 9, 11, 12], "short": [5, 12], "categor": [5, 11], "integr": [5, 7, 10, 11, 12], "interact": 5, "minim": [5, 8, 10], "compon": [5, 6, 11], "usual": [5, 7, 10], "three": [5, 8], "someon": 5, "piec": [5, 12], "probabl": [5, 9, 12], "entir": [5, 12], "along": [5, 9], "perspect": 5, "product": [5, 7, 10, 12], "exercis": 5, "behavior": [5, 6], "unfortun": 5, "break": [5, 9, 11], "raw_output": [5, 8], "show": [5, 9, 11], "detail": [5, 6, 9, 10, 12], "hidden": 5, "kunit_tool": [5, 6], "parser": 5, "independ": [5, 8], "help": [5, 8, 11, 12], "down": [5, 9, 12], "where": [5, 11, 12], "issu": [5, 9, 12], "think": [5, 9], "fault": 5, "stdin": [5, 8], "reveal": 5, "ignor": [5, 8], "simpl": [5, 6, 7, 8, 9, 10, 11, 12], "unusu": 5, "host": 5, "tmpf": 5, "mount": [5, 7], "had": [5, 12], "past": [5, 12], "kaslr": [5, 10], "older": 5, "setarch": 5, "unam": 5, "m": [5, 9], "r": [5, 9, 12], "config_kunit": [5, 7, 9, 10, 11], "y": [5, 8, 9, 10], "least": 5, "config_kunit_example_test": [5, 9], "keep": 5, "around": [5, 6, 9], "preserv": 5, "chang": [5, 8, 9, 10, 11, 12], "arch": [5, 8, 10, 12], "um": [5, 8, 10], "menuconfig": [5, 8, 10], "defconfig": [5, 8, 10], "residu": 5, "item": 5, "problem": [5, 10, 11], "runtim": 5, "sy": [5, 7, 9], "debug": [5, 7, 8, 9, 12], "trick": 5, "welcom": 5, "email": 5, "googlegroup": 5, "com": [5, 9], "without": [6, 9, 11, 12], "step": [6, 9], "architectur": [6, 8, 9, 10], "command": [6, 9, 10], "line": [6, 10, 12], "har": 6, "filter": [6, 9], "pattern": [6, 10], "input": [6, 8, 11], "inject": 6, "api": [6, 11, 12], "nomenclatur": 6, "entri": 6, "frequent": 6, "ask": 6, "question": 6, "autotest": 6, "uml": [6, 8, 10, 12], "what": [6, 8, 9, 11, 12], "between": [6, 10, 12], "kind": 6, "tip": 6, "group": [6, 8, 11], "report": [6, 12], "appear": [6, 7, 8], "anyth": [6, 8], "protocol": [6, 8], "inspir": 6, "unittest": 6, "googlemock": 6, "program": [6, 12], "languag": [6, 12], "invoc": [6, 8, 10, 12], "100": 6, "10": 6, "second": [6, 8, 12], "white": 6, "box": 6, "approach": 6, "space": [6, 10], "restrict": 6, "expos": [6, 9, 12], "friendli": 6, "millisecond": 6, "version": [6, 9, 12], "5": [6, 9], "good": [6, 7, 10, 11], "arrang": 6, "act": 6, "great": 6, "oper": 6, "target": [6, 8], "At": 6, "outcom": 6, "increas": 6, "speed": 6, "develop": 6, "detect": 6, "bug": [6, 12], "stage": 6, "decreas": 6, "fix": [6, 12], "improv": 6, "qualiti": 6, "encourag": [6, 11], "testabl": 6, "guid": [6, 10], "altern": [6, 9, 12], "feel": 6, "experi": 6, "happi": 6, "design": 7, "secur": 7, "vm": 7, "wish": 7, "don": [7, 9], "_kunit_test": [7, 10, 11], "kunit_all_test": [7, 10, 11], "satisfi": [7, 8, 12], "quickli": 7, "everyth": [7, 10, 12], "applic": 7, "tap": [7, 8, 9, 10], "modprob": [7, 9], "config_kunit_debugf": [7, 9], "test_suit": 7, "timeout": 8, "30": 8, "job": 8, "nproc": 8, "maximum": 8, "amount": [8, 12], "directori": [8, 10, 11], "fragment": [8, 9], "pre": 8, "certain": 8, "particular": [8, 12], "f": [8, 10, 12], "ext4": [8, 10, 11, 12], "view": 8, "those": 8, "http": 8, "git": [8, 9], "org": 8, "pub": 8, "scm": 8, "torvald": 8, "minconfig": 8, "savedefconfig": [8, 10], "regular": [8, 9], "featur": [8, 9, 10], "cd": [8, 9, 10], "path_to_linux_repo": [8, 10], "cp": [8, 10], "config_list_kunit_test": [8, 10], "rebuild": [8, 10], "updat": 8, "subset": 8, "mean": [8, 9], "adjust": 8, "dir": [8, 9, 10], "o": [8, 9, 10], "process": [8, 9], "discuss": [8, 9, 12], "sequenc": [8, 9], "raw": 8, "human": [8, 11], "readabl": [8, 12], "filenam": [8, 11], "var": [8, 9], "bash": [8, 9], "glob": [8, 9, 10], "wildcard": [8, 10], "charact": [8, 10], "well": [8, 9], "select": [8, 12], "kbuild": 8, "Not": [8, 11, 12], "non": [8, 9, 11, 12], "i386": 8, "x86_64": 8, "arm": 8, "cross_compil": 8, "toolchain": 8, "remind": 8, "binari": [8, 9], "gcc": [8, 9], "sparc64": 8, "gnu": 8, "sparc": 8, "home": 8, "microblaz": 8, "9": 8, "nolibc": 8, "bin": [8, 9], "download": 8, "dai": 8, "websit": 8, "cross": 8, "ll": 8, "s390": 8, "s390x": 8, "qemuconfig": 8, "qemuarchparam": 8, "top": [8, 9, 10], "qemu_arch": 8, "assign": 8, "60": 8, "12": [8, 9], "environ": [8, 10, 12], "below": [8, 9, 10, 11, 12], "etc": [8, 12], "make_opt": [8, 9], "w": 8, "alltest": 8, "predefin": 8, "mani": [8, 10, 11, 12], "all_test": 8, "config_kunit_all_test": [8, 10, 11], "locat": 8, "kconfig_add": [8, 10], "append": [8, 9, 11], "config_kasan": 8, "qemu_arg": 8, "smp": 8, "8": 8, "simultan": 8, "taken": 8, "kernel_arg": [8, 9], "repeat": 8, "run_isol": 8, "hermet": 8, "ran": [8, 9], "unformat": 8, "full": [8, 11, 12], "json": 8, "save": [8, 10], "handi": 9, "run_kunit": 9, "rev": 9, "toplevel": 9, "6": 9, "didn": [9, 10], "unless": [9, 11], "root": 9, "subshel": 9, "suite_glob": 9, "test_glob": 9, "sai": [9, 11], "sysctl": 9, "echo": 9, "nconfig_kunit_all_test": 9, "pai": 9, "fiddl": 9, "hoc": 9, "especi": 9, "convent": [9, 11], "rel": 9, "new": [9, 10], "yet": [9, 10], "versu": 9, "kept": 9, "local": 9, "decid": 9, "enough": [9, 12], "submit": 9, "parent": [9, 11, 12], "child": [9, 12], "iffi": 9, "But": [9, 10], "One": 9, "recurs": 9, "automag": 9, "theoret": 9, "incompat": 9, "tricki": 9, "param2": 9, "todo": 9, "brendanhiggin": 9, "googl": 9, "variou": 9, "7": [9, 10], "miss": 9, "gcda": 9, "gcov": 9, "config_gcov_kernel": 9, "config_debug_kernel": 9, "config_debug_info": 9, "config_debug_info_dwarf_toolchain_default": 9, "config_gcov": 9, "put": [9, 11, 12], "togeth": 9, "copi": [9, 12], "pastabl": 9, "coverage_uml": 9, "lcov": 9, "my_kunit_test": [9, 12], "d": [9, 10, 12], "html": 9, "tmp": 9, "genhtml": 9, "coverage_html": 9, "doesn": 9, "tweak": 9, "cc": 9, "usr": 9, "fairli": 9, "focu": 9, "Then": [9, 12], "signal": 9, "14": 9, "subtest": [9, 11], "example_simple_test": [9, 10, 12], "loadabl": [9, 10], "13": 9, "thu": [9, 12], "ideal": 9, "edg": 9, "author": 9, "kunit_test": [9, 12], "familiar": 9, "cat": [9, 10], "correspond": [9, 11], "go": [9, 12], "awai": 9, "No": 9, "vagu": 9, "advic": 9, "That": 9, "reset": [9, 12], "counter": 9, "overview": 10, "teach": 10, "cover": [10, 11, 12], "face": 10, "repositori": 10, "sourc": [10, 11], "pleas": [10, 11], "mrproper": 10, "happen": [10, 12], "caveat": 10, "mention": 10, "admin": 10, "inde": 10, "solv": 10, "awar": 10, "delet": 10, "lot": 10, "reachabl": 10, "live": 10, "edit": 10, "link": 10, "fat_f": 10, "fat": 10, "overwrit": 10, "satisfactori": 10, "instruct": 10, "regard": 10, "manpag": 10, "period": 10, "interpret": 10, "let": [10, 12], "assum": [10, 12], "kunit_executor_test": 10, "64": 10, "insid": 10, "unsupport": 10, "layout": 10, "random": 10, "suitabl": 10, "hack": [10, 11], "coverag": [10, 11], "interspers": 10, "misc": 10, "misc_example_add": 10, "misc_exampl": 10, "my": 10, "makefil": 10, "obj": 10, "config_misc_exampl": 10, "now": [10, 12], "readi": 10, "misc_example_add_test_bas": 10, "misc_example_test_failur": 10, "never": [10, 12], "misc_example_test_cas": 10, "misc_example_test_suit": 10, "module_licens": 10, "gpl": 10, "misc_example_test": 10, "tristat": [10, 11], "discourag": 10, "config_misc_example_test": 10, "16": [10, 12], "08": 10, "57": 10, "17": 10, "congrat": 10, "wrote": 10, "interest": 10, "advanc": 10, "techniqu": 10, "usag": 10, "strongli": 11, "accord": 11, "guidelin": 11, "rule": [11, 12], "conflict": [11, 12], "deviat": 11, "port": 11, "seriou": 11, "determinist": 11, "produc": 11, "posit": 11, "neg": 11, "easi": [11, 12], "area": [11, 12], "wherev": 11, "ambigu": 11, "necessari": 11, "underscor": 11, "apparmor": 11, "lsm": 11, "kasan": 11, "promin": 11, "mm": 11, "snd_hda_codec_hdmi": 11, "snd": 11, "hda": 11, "codec": 11, "hdmi": 11, "shown": [11, 12], "linear": 11, "rang": 11, "dash": 11, "prefer": [11, 12], "linear_rang": 11, "qo": 11, "power_qo": 11, "better": [11, 12], "pc_parallel_port": 11, "parport_pc": 11, "explicitli": 11, "know": [11, 12], "futur": 11, "share": [11, 12], "shutdown": 11, "split": 11, "last": [11, 12], "present": 11, "_test": 11, "_unittest": 11, "ext4_inod": 11, "inod": [11, 12], "apparmor_property_entri": 11, "property_entri": 11, "ext4_ext4_inod": 11, "twice": 11, "kasan_integration_test": 11, "redundantli": 11, "integration_test": 11, "kasan_unittest": 11, "constrain": 11, "codepath": 11, "themselv": 11, "creativ": 11, "idea": 11, "pollut": 11, "namespac": 11, "unpack_u32_with_null_nam": 11, "unpack_u32": 11, "test_list_splic": 11, "list_splic": 11, "test_": 11, "fulli": 11, "qualifi": 11, "colon": 11, "ti": 11, "config_": 11, "alongsid": 11, "visibl": 11, "brief": 11, "text": 11, "meet": 11, "unabl": 11, "foo_kunit_test": 11, "foo": [11, 12], "_kunit": 11, "easiest": 11, "achiev": 11, "sens": 11, "redund": 11, "foo_firmwar": 11, "firmware_test": 11, "example_test_success": 12, "example_test_failur": 12, "violat": 12, "oppos": 12, "later": 12, "learn": 12, "understand": 12, "focus": 12, "rigor": 12, "add_test_neg": 12, "add_test_max": 12, "add_test_overflow": 12, "test_sort": 12, "test_len": 12, "sizeof": 12, "725861": 12, "6599": 12, "sort": 12, "cmpint": 12, "stop": 12, "anywher": 12, "shouldn": 12, "shut": 12, "further": 12, "potenti": 12, "lead": 12, "leak": 12, "kunit_expect": 12, "kunit_assert": 12, "some_str": 12, "41": 12, "generate_sha1_hex_str": 12, "tell": 12, "why": 12, "strlen": 12, "40": 12, "offend": 12, "kunit_expect_eq_msg": 12, "some_setup_funct": 12, "duplic": 12, "close": 12, "concept": 12, "teardown": 12, "whole": 12, "example_suite_init": 12, "example_suite_exit": 12, "encount": 12, "late_init": 12, "obtain": 12, "monetarili": 12, "softwar": 12, "nevertheless": 12, "still": 12, "valid": 12, "realli": 12, "physic": 12, "few": 12, "narrow": 12, "exactli": 12, "bit": 12, "procedur": 12, "limit": 12, "construct": 12, "easili": 12, "accordingli": 12, "project": 12, "orient": 12, "gnome": 12, "gobject": 12, "slightli": 12, "central": 12, "contract": 12, "forc": 12, "method": 12, "overridden": 12, "embed": 12, "comput": 12, "offset": 12, "shape": 12, "rectangl": 12, "length": 12, "width": 12, "rectangle_area": 12, "self": 12, "container_of": 12, "rectangle_new": 12, "ceas": 12, "behav": 12, "standpoint": 12, "hard": 12, "deal": 12, "slow": 12, "eeprom": 12, "content": 12, "buffer": 12, "ssize_t": 12, "And": 12, "eeprom_buff": 12, "flush": 12, "flush_count": 12, "exce": 12, "new_eeprom_buff": 12, "destroy_eeprom_buff": 12, "fake_eeprom": 12, "fake_eeprom_contents_s": 12, "fake_eeprom_read": 12, "min": 12, "memcpi": 12, "fake_eeprom_writ": 12, "fake_eeprom_init": 12, "memset": 12, "eeprom_buffer_test": 12, "eeprom_buffer_test_does_not_write_until_flush": 12, "0xff": 12, "size_max": 12, "eeprom_buffer_test_flushes_after_flush_count_met": 12, "eeprom_buffer_test_flushes_increments_of_flush_count": 12, "eeprom_buffer_test_init": 12, "eeprom_buffer_test_exit": 12, "hash": 12, "sha1sum": 12, "test_sha1": 12, "kunit_expect_streq_msg": 12, "2aae6c35c94fcfb415dbe95f408b9ce91ee846": 12, "430ce34d020724ed75a196dfc2ad67c77772d169": 12, "clearer": 12, "loop": 12, "complic": 12, "tabl": 12, "driven": 12, "variat": 12, "sha1_test_cas": 12, "sha1": 12, "array_s": 12, "boilerpl": 12, "involv": 12, "across": 12, "sha256sum": 12, "sha256": 12, "reus": 12, "case_to_desc": 12, "strcpy": 12, "sha1_gen_param": 12, "sha1_test": 12, "bodi": 12, "former": 12, "test_param": 12, "u": 12, "worri": 12, "rememb": 12, "example_test_alloc": 12, "succeed": 12, "beyond": 12, "cleanli": 12, "fulfil": 12, "role": 12, "destructor": 12, "raii": 12, "veri": 12, "unregist": 12, "cleanup_devic": 12, "device_unregist": 12, "example_device_test": 12, "my_devic": 12, "device_regist": 12, "cast": 12, "condition": 12, "my_fil": 12, "do_interesting_th": 12, "ifdef": 12, "config_my_kunit_test": 12, "endif": 12, "logic": 12, "test_only_hook": 12, "handler": 12, "task_struct": 12, "safe": 12, "kei": 12, "neglig": 12, "impact": 12, "test_data": 12, "foo_result": 12, "want_foo_called_with": 12, "fake_foo": 12, "somewher": 12, "concurr": 12, "flexibl": 12, "kunit_fail_current_test": 12, "pull": 12, "extra": 12, "config_extra_debug_check": 12, "validate_my_data": 12, "is_valid": 12, "p": 12, "invalid": 12, "my_debug_funct": 12}, "objects": {"": [[3, 0, 1, "c.KUNIT_ARRAY_PARAM", "KUNIT_ARRAY_PARAM"], [3, 0, 1, "c.KUNIT_ASSERT_EQ", "KUNIT_ASSERT_EQ"], [3, 0, 1, "c.KUNIT_ASSERT_FALSE", "KUNIT_ASSERT_FALSE"], [3, 0, 1, "c.KUNIT_ASSERT_GE", "KUNIT_ASSERT_GE"], [3, 0, 1, "c.KUNIT_ASSERT_GT", "KUNIT_ASSERT_GT"], [3, 0, 1, "c.KUNIT_ASSERT_LE", "KUNIT_ASSERT_LE"], [3, 0, 1, "c.KUNIT_ASSERT_LT", "KUNIT_ASSERT_LT"], [3, 0, 1, "c.KUNIT_ASSERT_NE", "KUNIT_ASSERT_NE"], [3, 0, 1, "c.KUNIT_ASSERT_NOT_ERR_OR_NULL", "KUNIT_ASSERT_NOT_ERR_OR_NULL"], [3, 0, 1, "c.KUNIT_ASSERT_NOT_NULL", "KUNIT_ASSERT_NOT_NULL"], [3, 0, 1, "c.KUNIT_ASSERT_NULL", "KUNIT_ASSERT_NULL"], [3, 0, 1, "c.KUNIT_ASSERT_PTR_EQ", "KUNIT_ASSERT_PTR_EQ"], [3, 0, 1, "c.KUNIT_ASSERT_PTR_NE", "KUNIT_ASSERT_PTR_NE"], [3, 0, 1, "c.KUNIT_ASSERT_STREQ", "KUNIT_ASSERT_STREQ"], [3, 0, 1, "c.KUNIT_ASSERT_STRNEQ", "KUNIT_ASSERT_STRNEQ"], [3, 0, 1, "c.KUNIT_ASSERT_TRUE", "KUNIT_ASSERT_TRUE"], [3, 0, 1, "c.KUNIT_CASE", "KUNIT_CASE"], [3, 0, 1, "c.KUNIT_CASE_PARAM", "KUNIT_CASE_PARAM"], [3, 0, 1, "c.KUNIT_EXPECT_EQ", "KUNIT_EXPECT_EQ"], [3, 0, 1, "c.KUNIT_EXPECT_FALSE", "KUNIT_EXPECT_FALSE"], [3, 0, 1, "c.KUNIT_EXPECT_GE", "KUNIT_EXPECT_GE"], [3, 0, 1, "c.KUNIT_EXPECT_GT", "KUNIT_EXPECT_GT"], [3, 0, 1, "c.KUNIT_EXPECT_LE", "KUNIT_EXPECT_LE"], [3, 0, 1, "c.KUNIT_EXPECT_LT", "KUNIT_EXPECT_LT"], [3, 0, 1, "c.KUNIT_EXPECT_MEMEQ", "KUNIT_EXPECT_MEMEQ"], [3, 0, 1, "c.KUNIT_EXPECT_MEMNEQ", "KUNIT_EXPECT_MEMNEQ"], [3, 0, 1, "c.KUNIT_EXPECT_NE", "KUNIT_EXPECT_NE"], [3, 0, 1, "c.KUNIT_EXPECT_NOT_ERR_OR_NULL", "KUNIT_EXPECT_NOT_ERR_OR_NULL"], [3, 0, 1, "c.KUNIT_EXPECT_NOT_NULL", "KUNIT_EXPECT_NOT_NULL"], [3, 0, 1, "c.KUNIT_EXPECT_NULL", "KUNIT_EXPECT_NULL"], [3, 0, 1, "c.KUNIT_EXPECT_PTR_EQ", "KUNIT_EXPECT_PTR_EQ"], [3, 0, 1, "c.KUNIT_EXPECT_PTR_NE", "KUNIT_EXPECT_PTR_NE"], [3, 0, 1, "c.KUNIT_EXPECT_STREQ", "KUNIT_EXPECT_STREQ"], [3, 0, 1, "c.KUNIT_EXPECT_STRNEQ", "KUNIT_EXPECT_STRNEQ"], [3, 0, 1, "c.KUNIT_EXPECT_TRUE", "KUNIT_EXPECT_TRUE"], [3, 0, 1, "c.KUNIT_FAIL", "KUNIT_FAIL"], [0, 0, 1, "c.KUNIT_STATIC_STUB_REDIRECT", "KUNIT_STATIC_STUB_REDIRECT"], [3, 0, 1, "c.KUNIT_SUCCEED", "KUNIT_SUCCEED"], [2, 1, 1, "c.__kunit_add_resource", "__kunit_add_resource"], [3, 3, 1, "c.kunit", "kunit"], [0, 0, 1, "c.kunit_activate_static_stub", "kunit_activate_static_stub"], [2, 1, 1, "c.kunit_add_action", "kunit_add_action"], [2, 1, 1, "c.kunit_add_action_or_reset", "kunit_add_action_or_reset"], [2, 1, 1, "c.kunit_add_named_resource", "kunit_add_named_resource"], [2, 1, 1, "c.kunit_add_resource", "kunit_add_resource"], [2, 1, 1, "c.kunit_alloc_and_get_resource", "kunit_alloc_and_get_resource"], [2, 1, 1, "c.kunit_alloc_resource", "kunit_alloc_resource"], [3, 3, 1, "c.kunit_case", "kunit_case"], [0, 1, 1, "c.kunit_deactivate_static_stub", "kunit_deactivate_static_stub"], [2, 1, 1, "c.kunit_destroy_resource", "kunit_destroy_resource"], [3, 0, 1, "c.kunit_err", "kunit_err"], [2, 1, 1, "c.kunit_find_named_resource", "kunit_find_named_resource"], [2, 1, 1, "c.kunit_find_resource", "kunit_find_resource"], [2, 1, 1, "c.kunit_get_resource", "kunit_get_resource"], [3, 0, 1, "c.kunit_info", "kunit_info"], [3, 1, 1, "c.kunit_kcalloc", "kunit_kcalloc"], [3, 1, 1, "c.kunit_kfree", "kunit_kfree"], [3, 1, 1, "c.kunit_kmalloc", "kunit_kmalloc"], [3, 1, 1, "c.kunit_kmalloc_array", "kunit_kmalloc_array"], [3, 1, 1, "c.kunit_kzalloc", "kunit_kzalloc"], [3, 0, 1, "c.kunit_mark_skipped", "kunit_mark_skipped"], [2, 1, 1, "c.kunit_put_resource", "kunit_put_resource"], [2, 1, 1, "c.kunit_release_action", "kunit_release_action"], [2, 1, 1, "c.kunit_remove_action", "kunit_remove_action"], [2, 1, 1, "c.kunit_remove_resource", "kunit_remove_resource"], [2, 3, 1, "c.kunit_resource", "kunit_resource"], [2, 1, 1, "c.kunit_resource_name_match", "kunit_resource_name_match"], [3, 0, 1, "c.kunit_skip", "kunit_skip"], [3, 4, 1, "c.kunit_status", "kunit_status"], [3, 3, 1, "c.kunit_suite", "kunit_suite"], [3, 0, 1, "c.kunit_test_init_section_suites", "kunit_test_init_section_suites"], [3, 0, 1, "c.kunit_test_suites", "kunit_test_suites"], [3, 0, 1, "c.kunit_warn", "kunit_warn"]], "__kunit_add_resource": [[2, 2, 1, "c.__kunit_add_resource", "data"], [2, 2, 1, "c.__kunit_add_resource", "free"], [2, 2, 1, "c.__kunit_add_resource", "init"], [2, 2, 1, "c.__kunit_add_resource", "res"], [2, 2, 1, "c.__kunit_add_resource", "test"]], "kunit_add_action": [[2, 2, 1, "c.kunit_add_action", "action"], [2, 2, 1, "c.kunit_add_action", "ctx"], [2, 2, 1, "c.kunit_add_action", "test"]], "kunit_add_action_or_reset": [[2, 2, 1, "c.kunit_add_action_or_reset", "action"], [2, 2, 1, "c.kunit_add_action_or_reset", "ctx"], [2, 2, 1, "c.kunit_add_action_or_reset", "test"]], "kunit_add_named_resource": [[2, 2, 1, "c.kunit_add_named_resource", "data"], [2, 2, 1, "c.kunit_add_named_resource", "free"], [2, 2, 1, "c.kunit_add_named_resource", "init"], [2, 2, 1, "c.kunit_add_named_resource", "name"], [2, 2, 1, "c.kunit_add_named_resource", "res"], [2, 2, 1, "c.kunit_add_named_resource", "test"]], "kunit_add_resource": [[2, 2, 1, "c.kunit_add_resource", "data"], [2, 2, 1, "c.kunit_add_resource", "free"], [2, 2, 1, "c.kunit_add_resource", "init"], [2, 2, 1, "c.kunit_add_resource", "res"], [2, 2, 1, "c.kunit_add_resource", "test"]], "kunit_alloc_and_get_resource": [[2, 2, 1, "c.kunit_alloc_and_get_resource", "context"], [2, 2, 1, "c.kunit_alloc_and_get_resource", "free"], [2, 2, 1, "c.kunit_alloc_and_get_resource", "init"], [2, 2, 1, "c.kunit_alloc_and_get_resource", "internal_gfp"], [2, 2, 1, "c.kunit_alloc_and_get_resource", "test"]], "kunit_alloc_resource": [[2, 2, 1, "c.kunit_alloc_resource", "context"], [2, 2, 1, "c.kunit_alloc_resource", "free"], [2, 2, 1, "c.kunit_alloc_resource", "init"], [2, 2, 1, "c.kunit_alloc_resource", "internal_gfp"], [2, 2, 1, "c.kunit_alloc_resource", "test"]], "kunit_deactivate_static_stub": [[0, 2, 1, "c.kunit_deactivate_static_stub", "real_fn_addr"], [0, 2, 1, "c.kunit_deactivate_static_stub", "test"]], "kunit_destroy_resource": [[2, 2, 1, "c.kunit_destroy_resource", "match"], [2, 2, 1, "c.kunit_destroy_resource", "match_data"], [2, 2, 1, "c.kunit_destroy_resource", "test"]], "kunit_find_named_resource": [[2, 2, 1, "c.kunit_find_named_resource", "name"], [2, 2, 1, "c.kunit_find_named_resource", "test"]], "kunit_find_resource": [[2, 2, 1, "c.kunit_find_resource", "match"], [2, 2, 1, "c.kunit_find_resource", "match_data"], [2, 2, 1, "c.kunit_find_resource", "test"]], "kunit_get_resource": [[2, 2, 1, "c.kunit_get_resource", "res"]], "kunit_kcalloc": [[3, 2, 1, "c.kunit_kcalloc", "gfp"], [3, 2, 1, "c.kunit_kcalloc", "n"], [3, 2, 1, "c.kunit_kcalloc", "size"], [3, 2, 1, "c.kunit_kcalloc", "test"]], "kunit_kfree": [[3, 2, 1, "c.kunit_kfree", "ptr"], [3, 2, 1, "c.kunit_kfree", "test"]], "kunit_kmalloc": [[3, 2, 1, "c.kunit_kmalloc", "gfp"], [3, 2, 1, "c.kunit_kmalloc", "size"], [3, 2, 1, "c.kunit_kmalloc", "test"]], "kunit_kmalloc_array": [[3, 2, 1, "c.kunit_kmalloc_array", "gfp"], [3, 2, 1, "c.kunit_kmalloc_array", "n"], [3, 2, 1, "c.kunit_kmalloc_array", "size"], [3, 2, 1, "c.kunit_kmalloc_array", "test"]], "kunit_kzalloc": [[3, 2, 1, "c.kunit_kzalloc", "gfp"], [3, 2, 1, "c.kunit_kzalloc", "size"], [3, 2, 1, "c.kunit_kzalloc", "test"]], "kunit_put_resource": [[2, 2, 1, "c.kunit_put_resource", "res"]], "kunit_release_action": [[2, 2, 1, "c.kunit_release_action", "action"], [2, 2, 1, "c.kunit_release_action", "ctx"], [2, 2, 1, "c.kunit_release_action", "test"]], "kunit_remove_action": [[2, 2, 1, "c.kunit_remove_action", "action"], [2, 2, 1, "c.kunit_remove_action", "ctx"], [2, 2, 1, "c.kunit_remove_action", "test"]], "kunit_remove_resource": [[2, 2, 1, "c.kunit_remove_resource", "res"], [2, 2, 1, "c.kunit_remove_resource", "test"]], "kunit_resource_name_match": [[2, 2, 1, "c.kunit_resource_name_match", "match_name"], [2, 2, 1, "c.kunit_resource_name_match", "res"], [2, 2, 1, "c.kunit_resource_name_match", "test"]]}, "objtypes": {"0": "c:macro", "1": "c:function", "2": "c:functionParam", "3": "c:struct", "4": "c:enum"}, "objnames": {"0": ["c", "macro", "C macro"], "1": ["c", "function", "C function"], "2": ["c", "functionParam", "C function parameter"], "3": ["c", "struct", "C struct"], "4": ["c", "enum", "C enum"]}, "titleterms": {"function": [0, 12], "redirect": 0, "api": [0, 1, 2, 3], "overview": 0, "static": [0, 12], "stub": 0, "refer": [0, 1], "resourc": 2, "test": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "kunit": [4, 5, 6, 9, 10], "architectur": [4, 5, 12], "In": 4, "kernel": [4, 6, 7, 9, 10], "framework": 4, "case": [4, 11, 12], "suit": [4, 9, 11, 12], "executor": 4, "assert": [4, 12], "macro": 4, "result": [4, 8, 9], "report": [4, 9], "parameter": [4, 12], "kunit_tool": [4, 7, 8, 10], "command": [4, 8], "line": [4, 8], "har": 4, "frequent": 5, "ask": 5, "question": 5, "how": [5, 6], "i": [5, 6], "thi": 5, "differ": 5, "from": [5, 9], "autotest": 5, "kselftest": 5, "so": 5, "doe": 5, "support": 5, "run": [5, 7, 8, 9, 10], "other": [5, 12], "than": 5, "uml": [5, 9], "what": 5, "between": 5, "unit": [5, 6], "kind": 5, "work": 5, "should": 5, "do": [5, 6], "linux": 6, "content": 6, "introduct": 6, "featur": 6, "prerequisit": 6, "write": [6, 10, 12], "advantag": 6, "us": [6, 9], "without": [7, 10], "configur": [7, 8, 10], "creat": 8, "kunitconfig": 8, "file": [8, 11], "build": 8, "pars": 8, "filter": [8, 10], "qemu": 8, "argument": 8, "tip": 9, "For": [9, 12], "py": 9, "tool": 9, "ani": 9, "directori": 9, "subset": 9, "defin": 9, "set": 9, "commandlin": 9, "paramet": 9, "gener": 9, "code": [9, 12], "coverag": 9, "under": 9, "manual": 9, "built": 9, "modul": [9, 11], "pretti": 9, "print": 9, "retriev": 9, "per": 9, "get": 10, "start": 10, "instal": 10, "depend": 10, "select": 10, "which": 10, "custom": [10, 12], "kconfig": [10, 11], "name": [10, 11], "wrapper": 10, "your": 10, "first": 10, "next": 10, "step": 10, "style": 11, "nomenclatur": 11, "subsystem": 11, "entri": 11, "expect": 12, "error": 12, "messag": 12, "common": 12, "pattern": 12, "isol": 12, "behavior": 12, "class": 12, "fake": 12, "against": 12, "multipl": 12, "input": 12, "alloc": 12, "memori": 12, "regist": 12, "cleanup": 12, "action": 12, "inject": 12, "onli": 12, "access": 12, "The": 12, "current": 12, "fail": 12}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"API Reference": [[1, "api-reference"], [0, "api-reference"]], "Frequently Asked Questions": [[5, "frequently-asked-questions"]], "How is this different from Autotest, kselftest, and so on?": [[5, "how-is-this-different-from-autotest-kselftest-and-so-on"]], "Does KUnit support running on architectures other than UML?": [[5, "does-kunit-support-running-on-architectures-other-than-uml"]], "What is the difference between a unit test and other kinds of tests?": [[5, "what-is-the-difference-between-a-unit-test-and-other-kinds-of-tests"]], "KUnit is not working, what should I do?": [[5, "kunit-is-not-working-what-should-i-do"]], "KUnit - Linux Kernel Unit Testing": [[6, "kunit-linux-kernel-unit-testing"]], "Contents:": [[6, null]], "Introduction": [[6, "introduction"]], "Features": [[6, "features"]], "Prerequisites": [[6, "prerequisites"]], "Unit Testing": [[6, "unit-testing"]], "Write Unit Tests": [[6, "write-unit-tests"]], "Unit Testing Advantages": [[6, "unit-testing-advantages"]], "How do I use it?": [[6, "how-do-i-use-it"]], "KUnit Architecture": [[4, "kunit-architecture"]], "In-Kernel Testing Framework": [[4, "in-kernel-testing-framework"]], "Test Cases": [[4, "test-cases"], [11, "test-cases"], [12, "test-cases"]], "Test Suites": [[4, "test-suites"], [12, "test-suites"]], "Executor": [[4, "executor"]], "Assertion Macros": [[4, "assertion-macros"]], "Test Result Reporting": [[4, "test-result-reporting"]], "Parameterized Tests": [[4, "parameterized-tests"]], "kunit_tool (Command-line Test Harness)": [[4, "kunit-tool-command-line-test-harness"]], "Run Tests without kunit_tool": [[7, "run-tests-without-kunit-tool"]], "Configure the Kernel": [[7, "configure-the-kernel"]], "Tips For Running KUnit Tests": [[9, "tips-for-running-kunit-tests"]], "Using kunit.py run (\"kunit tool\")": [[9, "using-kunit-py-run-kunit-tool"]], "Running from any directory": [[9, "running-from-any-directory"]], "Running a subset of tests": [[9, "running-a-subset-of-tests"]], "Defining a set of tests": [[9, "defining-a-set-of-tests"]], "Setting kernel commandline parameters": [[9, "setting-kernel-commandline-parameters"]], "Generating code coverage reports under UML": [[9, "generating-code-coverage-reports-under-uml"]], "Running tests manually": [[9, "running-tests-manually"]], "Running built-in tests": [[9, "running-built-in-tests"]], "Running tests as modules": [[9, "running-tests-as-modules"]], "Pretty-printing results": [[9, "pretty-printing-results"]], "Retrieving per suite results": [[9, "retrieving-per-suite-results"]], "Generating code coverage reports": [[9, "generating-code-coverage-reports"]], "Running tests with kunit_tool": [[8, "running-tests-with-kunit-tool"], [10, "running-tests-with-kunit-tool"]], "Creating a .kunitconfig file": [[8, "creating-a-kunitconfig-file"]], "Configuring, building, and running tests": [[8, "configuring-building-and-running-tests"]], "Parsing test results": [[8, "parsing-test-results"]], "Filtering tests": [[8, "filtering-tests"]], "Running tests on QEMU": [[8, "running-tests-on-qemu"]], "Running command-line arguments": [[8, "running-command-line-arguments"]], "Getting Started": [[10, "getting-started"]], "Installing Dependencies": [[10, "installing-dependencies"]], "Selecting which tests to run": [[10, "selecting-which-tests-to-run"]], "Customizing Kconfig": [[10, "customizing-kconfig"]], "Filtering tests by name": [[10, "filtering-tests-by-name"]], "Running Tests without the KUnit Wrapper": [[10, "running-tests-without-the-kunit-wrapper"]], "Configuring the Kernel": [[10, "configuring-the-kernel"]], "Running Tests (without KUnit Wrapper)": [[10, "running-tests-without-kunit-wrapper"]], "Writing Your First Test": [[10, "writing-your-first-test"]], "Next Steps": [[10, "next-steps"]], "Test Style and Nomenclature": [[11, "test-style-and-nomenclature"]], "Subsystems, Suites, and Tests": [[11, "subsystems-suites-and-tests"]], "Subsystems": [[11, "subsystems"]], "Suites": [[11, "suites"]], "Test Kconfig Entries": [[11, "test-kconfig-entries"]], "Test File and Module Names": [[11, "test-file-and-module-names"]], "Writing Tests": [[12, "writing-tests"]], "Expectations": [[12, "expectations"]], "Assertions": [[12, "assertions"]], "Customizing error messages": [[12, "customizing-error-messages"]], "Writing Tests For Other Architectures": [[12, "writing-tests-for-other-architectures"]], "Common Patterns": [[12, "common-patterns"]], "Isolating Behavior": [[12, "isolating-behavior"]], "Classes": [[12, "classes"]], "Faking Classes": [[12, "faking-classes"]], "Testing Against Multiple Inputs": [[12, "testing-against-multiple-inputs"]], "Parameterized Testing": [[12, "parameterized-testing"]], "Allocating Memory": [[12, "allocating-memory"]], "Registering Cleanup Actions": [[12, "registering-cleanup-actions"]], "Testing Static Functions": [[12, "testing-static-functions"]], "Injecting Test-Only Code": [[12, "injecting-test-only-code"]], "Accessing The Current Test": [[12, "accessing-the-current-test"]], "Failing The Current Test": [[12, "failing-the-current-test"]], "Function Redirection API": [[0, "function-redirection-api"]], "Overview": [[0, "overview"]], "Static Stubs": [[0, "static-stubs"]], "Resource API": [[2, "resource-api"]], "Test API": [[3, "test-api"]]}, "indexentries": {"kunit_static_stub_redirect (c macro)": [[0, "c.KUNIT_STATIC_STUB_REDIRECT"]], "kunit_activate_static_stub (c macro)": [[0, "c.kunit_activate_static_stub"]], "kunit_deactivate_static_stub (c function)": [[0, "c.kunit_deactivate_static_stub"]], "__kunit_add_resource (c function)": [[2, "c.__kunit_add_resource"]], "kunit_add_action (c function)": [[2, "c.kunit_add_action"]], "kunit_add_action_or_reset (c function)": [[2, "c.kunit_add_action_or_reset"]], "kunit_add_named_resource (c function)": [[2, "c.kunit_add_named_resource"]], "kunit_add_resource (c function)": [[2, "c.kunit_add_resource"]], "kunit_alloc_and_get_resource (c function)": [[2, "c.kunit_alloc_and_get_resource"]], "kunit_alloc_resource (c function)": [[2, "c.kunit_alloc_resource"]], "kunit_destroy_resource (c function)": [[2, "c.kunit_destroy_resource"]], "kunit_find_named_resource (c function)": [[2, "c.kunit_find_named_resource"]], "kunit_find_resource (c function)": [[2, "c.kunit_find_resource"]], "kunit_get_resource (c function)": [[2, "c.kunit_get_resource"]], "kunit_put_resource (c function)": [[2, "c.kunit_put_resource"]], "kunit_release_action (c function)": [[2, "c.kunit_release_action"]], "kunit_remove_action (c function)": [[2, "c.kunit_remove_action"]], "kunit_remove_resource (c function)": [[2, "c.kunit_remove_resource"]], "kunit_resource (c struct)": [[2, "c.kunit_resource"]], "kunit_resource_name_match (c function)": [[2, "c.kunit_resource_name_match"]], "kunit_array_param (c macro)": [[3, "c.KUNIT_ARRAY_PARAM"]], "kunit_assert_eq (c macro)": [[3, "c.KUNIT_ASSERT_EQ"]], "kunit_assert_false (c macro)": [[3, "c.KUNIT_ASSERT_FALSE"]], "kunit_assert_ge (c macro)": [[3, "c.KUNIT_ASSERT_GE"]], "kunit_assert_gt (c macro)": [[3, "c.KUNIT_ASSERT_GT"]], "kunit_assert_le (c macro)": [[3, "c.KUNIT_ASSERT_LE"]], "kunit_assert_lt (c macro)": [[3, "c.KUNIT_ASSERT_LT"]], "kunit_assert_ne (c macro)": [[3, "c.KUNIT_ASSERT_NE"]], "kunit_assert_not_err_or_null (c macro)": [[3, "c.KUNIT_ASSERT_NOT_ERR_OR_NULL"]], "kunit_assert_not_null (c macro)": [[3, "c.KUNIT_ASSERT_NOT_NULL"]], "kunit_assert_null (c macro)": [[3, "c.KUNIT_ASSERT_NULL"]], "kunit_assert_ptr_eq (c macro)": [[3, "c.KUNIT_ASSERT_PTR_EQ"]], "kunit_assert_ptr_ne (c macro)": [[3, "c.KUNIT_ASSERT_PTR_NE"]], "kunit_assert_streq (c macro)": [[3, "c.KUNIT_ASSERT_STREQ"]], "kunit_assert_strneq (c macro)": [[3, "c.KUNIT_ASSERT_STRNEQ"]], "kunit_assert_true (c macro)": [[3, "c.KUNIT_ASSERT_TRUE"]], "kunit_case (c macro)": [[3, "c.KUNIT_CASE"]], "kunit_case_param (c macro)": [[3, "c.KUNIT_CASE_PARAM"]], "kunit_expect_eq (c macro)": [[3, "c.KUNIT_EXPECT_EQ"]], "kunit_expect_false (c macro)": [[3, "c.KUNIT_EXPECT_FALSE"]], "kunit_expect_ge (c macro)": [[3, "c.KUNIT_EXPECT_GE"]], "kunit_expect_gt (c macro)": [[3, "c.KUNIT_EXPECT_GT"]], "kunit_expect_le (c macro)": [[3, "c.KUNIT_EXPECT_LE"]], "kunit_expect_lt (c macro)": [[3, "c.KUNIT_EXPECT_LT"]], "kunit_expect_memeq (c macro)": [[3, "c.KUNIT_EXPECT_MEMEQ"]], "kunit_expect_memneq (c macro)": [[3, "c.KUNIT_EXPECT_MEMNEQ"]], "kunit_expect_ne (c macro)": [[3, "c.KUNIT_EXPECT_NE"]], "kunit_expect_not_err_or_null (c macro)": [[3, "c.KUNIT_EXPECT_NOT_ERR_OR_NULL"]], "kunit_expect_not_null (c macro)": [[3, "c.KUNIT_EXPECT_NOT_NULL"]], "kunit_expect_null (c macro)": [[3, "c.KUNIT_EXPECT_NULL"]], "kunit_expect_ptr_eq (c macro)": [[3, "c.KUNIT_EXPECT_PTR_EQ"]], "kunit_expect_ptr_ne (c macro)": [[3, "c.KUNIT_EXPECT_PTR_NE"]], "kunit_expect_streq (c macro)": [[3, "c.KUNIT_EXPECT_STREQ"]], "kunit_expect_strneq (c macro)": [[3, "c.KUNIT_EXPECT_STRNEQ"]], "kunit_expect_true (c macro)": [[3, "c.KUNIT_EXPECT_TRUE"]], "kunit_fail (c macro)": [[3, "c.KUNIT_FAIL"]], "kunit_succeed (c macro)": [[3, "c.KUNIT_SUCCEED"]], "kunit (c struct)": [[3, "c.kunit"]], "kunit_case (c struct)": [[3, "c.kunit_case"]], "kunit_err (c macro)": [[3, "c.kunit_err"]], "kunit_info (c macro)": [[3, "c.kunit_info"]], "kunit_kcalloc (c function)": [[3, "c.kunit_kcalloc"]], "kunit_kfree (c function)": [[3, "c.kunit_kfree"]], "kunit_kmalloc (c function)": [[3, "c.kunit_kmalloc"]], "kunit_kmalloc_array (c function)": [[3, "c.kunit_kmalloc_array"]], "kunit_kzalloc (c function)": [[3, "c.kunit_kzalloc"]], "kunit_mark_skipped (c macro)": [[3, "c.kunit_mark_skipped"]], "kunit_skip (c macro)": [[3, "c.kunit_skip"]], "kunit_status (c enum)": [[3, "c.kunit_status"]], "kunit_suite (c struct)": [[3, "c.kunit_suite"]], "kunit_test_init_section_suites (c macro)": [[3, "c.kunit_test_init_section_suites"]], "kunit_test_suites (c macro)": [[3, "c.kunit_test_suites"]], "kunit_warn (c macro)": [[3, "c.kunit_warn"]]}})