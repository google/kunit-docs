Search.setIndex({"docnames": ["api/index", "api/resource", "api/test", "architecture", "faq", "index", "run_manual", "run_wrapper", "running_tips", "start", "style", "tips", "usage"], "filenames": ["api/index.rst", "api/resource.rst", "api/test.rst", "architecture.rst", "faq.rst", "index.rst", "run_manual.rst", "run_wrapper.rst", "running_tips.rst", "start.rst", "style.rst", "tips.rst", "usage.rst"], "titles": ["API Reference", "Resource API", "Test API", "KUnit Architecture", "Frequently Asked Questions", "KUnit - Linux Kernel Unit Testing", "Run Tests without kunit_tool", "Running tests with kunit_tool", "Tips For Running KUnit Tests", "Getting Started", "Test Style and Nomenclature", "Tips For Writing KUnit Tests", "Writing Tests"], "terms": {"test": [0, 1], "resourc": [0, 2, 5, 7, 12], "thi": [0, 1, 2, 3, 5, 6, 7, 8, 9, 10, 11, 12], "section": [0, 2, 3, 5, 7, 8, 9, 12], "document": [0, 1, 2, 5, 7, 8, 9, 10, 11, 12], "kunit": [0, 1, 2, 6, 7, 10, 12], "kernel": [0, 4, 7, 10, 12], "It": [0, 1, 3, 4, 5, 6, 7, 8, 9, 10, 12], "i": [0, 1, 2, 3, 6, 7, 8, 9, 10, 11, 12], "divid": [0, 3], "follow": [0, 2, 5, 7, 8, 9, 10, 12], "dev": [0, 2, 4, 5, 7, 8, 9, 10, 11, 12], "tool": [0, 3, 4, 5, 7, 9, 10, 11, 12], "rst": [0, 5, 7, 8, 9, 11, 12], "all": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12], "standard": [0, 2, 3, 7, 12], "file": [1, 2, 3, 4, 5, 8, 9, 11, 12], "most": [1, 2, 4, 6, 7, 8, 9, 12], "user": [1, 2, 3, 5, 9, 12], "won": [1, 8, 9], "t": [1, 6, 8, 9, 11, 12], "need": [1, 4, 6, 7, 8, 9, 10, 11, 12], "us": [1, 2, 3, 4, 6, 7, 9, 10, 11, 12], "directli": [1, 3, 4, 9, 10, 11, 12], "power": [1, 5], "can": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "store": [1, 2, 3, 7, 12], "state": [1, 3, 5, 9, 10, 12], "per": [1, 2, 12], "basi": [1, 8], "regist": [1, 2, 3, 12], "custom": [1, 3, 5, 7], "cleanup": 1, "action": 1, "more": [1, 2, 4, 8, 9, 10, 11, 12], "struct": [1, 2, 3, 9, 10, 11, 12], "kunit_resourc": [1, 2, 11, 12], "repres": [1, 2, 3, 12], "manag": [1, 2, 5], "definit": [1, 2, 7, 12], "void": [1, 2, 3, 9, 11, 12], "data": [1, 2, 3, 5, 9, 11, 12], "const": [1, 2, 12], "char": [1, 2, 11, 12], "name": [1, 2, 3, 4, 5, 7, 8, 11, 12], "kunit_resource_free_t": 1, "free": [1, 2, 12], "member": [1, 2, 10, 12], "arbitrari": [1, 2, 3, 8], "option": [1, 2, 3, 6, 7, 8, 9, 11, 12], "suppli": [1, 3], "function": [1, 2, 3, 5, 8, 10], "descript": [1, 2, 10], "which": [1, 2, 3, 4, 7, 10, 11, 12], "automat": [1, 2, 4, 5, 6, 10, 11], "clean": [1, 2, 4, 9, 12], "up": [1, 2, 4, 8, 10, 12], "end": [1, 3, 4, 6, 9, 11, 12], "case": [1, 2, 5, 8, 9, 11], "perform": 1, "The": [1, 2, 3, 5, 6, 7, 8, 9, 10], "itself": [1, 4, 9, 10, 12], "freed": [1, 11, 12], "kfree": [1, 2, 11, 12], "wa": [1, 2, 4, 12], "alloc": [1, 2, 5], "e": [1, 4, 8, 10, 11], "g": [1, 4, 8, 11], "kunit_alloc_resourc": 1, "must": [1, 2, 7, 9, 10, 12], "otherwis": [1, 2, 7, 9, 12], "ar": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12], "refer": [1, 2, 5, 10], "count": [1, 12], "so": [1, 5, 7, 8, 10, 11, 12], "retriev": [1, 3], "via": [1, 2, 3, 7, 8, 11, 12], "kunit_alloc_and_get_resourc": 1, "kunit_find_resourc": 1, "we": [1, 2, 4, 6, 7, 8, 9, 10, 11, 12], "call": [1, 2, 3, 5, 7, 10, 11, 12], "kunit_put_resourc": 1, "reduc": [1, 6, 10, 12], "when": [1, 2, 3, 4, 6, 7, 8, 9, 10, 12], "finish": 1, "note": [1, 2, 4, 11, 12], "doe": [1, 2, 3, 5, 6, 7, 8, 12], "requir": [1, 3, 4, 7, 9, 10, 11, 12], "kunit_resource_put": 1, "becaus": [1, 2, 9, 10, 12], "kunit_kmalloc_param": 1, "size_t": [1, 2, 12], "size": [1, 2], "gfp_t": [1, 2], "gfp": [1, 2], "static": [1, 2, 3, 4, 5, 9, 10], "int": [1, 2, 9, 11, 12], "kunit_kmalloc_init": 1, "re": [1, 4, 8, 11], "context": [1, 2, 3, 10, 11, 12], "param": [1, 2, 8], "kmalloc": [1, 2], "return": [1, 2, 3, 9, 11, 12], "enomem": 1, "0": [1, 2, 7, 8, 9, 11, 12], "kunit_kmalloc_fre": 1, "kunit_kmalloc": [1, 2], "also": [1, 3, 4, 5, 6, 7, 8, 9, 10, 12], "lookup": 1, "remov": [1, 7, 8, 9], "done": [1, 2, 12], "kunit_add_named_resourc": 1, "kunit_find_named_resourc": 1, "kunit_destroy_named_resourc": 1, "uniqu": 1, "within": [1, 5, 10, 12], "instanc": [1, 2, 7, 12], "exampl": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "kunit_get_resourc": 1, "hold": 1, "should": [1, 2, 5, 7, 8, 9, 10, 11, 12], "get": [1, 3, 5, 8, 11, 12], "paramet": [1, 2, 3, 4, 12], "caller": [1, 12], "drop": 1, "list": [1, 2, 3, 7, 9, 10], "maintain": [1, 8, 10], "util": [1, 3], "from": [1, 2, 3, 5, 6, 7, 9, 10, 11, 12], "associ": [1, 2, 3, 4, 12], "ani": [1, 3, 4, 5, 6, 7, 9, 12], "onli": [1, 2, 4, 5, 7, 8, 9, 10], "alloc_and_get": 1, "find": [1, 9, 10], "__kunit_add_resourc": 1, "kunit_resource_init_t": 1, "init": [1, 2, 3, 11, 12], "intern": [1, 5, 9, 12], "helper": [1, 2, 12], "add": [1, 2, 7, 8, 9, 10, 11, 12], "object": [1, 2, 3, 5, 7, 11, 12], "initi": [1, 2, 5, 8, 10], "result": [1, 2, 4, 5, 6, 9, 10], "If": [1, 2, 3, 4, 6, 7, 8, 9, 10, 11, 12], "none": [1, 4], "valu": [1, 2, 3, 9, 10, 12], "simpli": 1, "set": [1, 2, 4, 7, 9, 10, 12], "an": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "pass": [1, 2, 3, 7, 8, 9, 10, 11, 12], "instead": [1, 3, 4, 7, 8, 11, 12], "field": [1, 3, 11, 12], "should_kfre": 1, "initialis": 1, "kunit_add_resourc": 1, "internal_gfp": 1, "unsur": [1, 10], "gfp_kernel": [1, 11, 12], "see": [1, 2, 3, 4, 7, 8, 9, 11, 12], "effect": 1, "ident": [1, 2, 12], "pointer": [1, 2, 3, 11, 12], "just": [1, 2, 4, 8, 9, 10, 11, 12], "therefor": [1, 5, 7, 8, 12], "increment": 1, "": [1, 2, 4, 5, 8, 9, 10, 11, 12], "refcount": 1, "you": [1, 3, 4, 5, 7, 8, 9, 10, 11, 12], "ve": 1, "memori": [1, 2, 3, 5], "specifi": [1, 2, 3, 7, 8, 9, 10, 12], "compat": [1, 5], "your": [1, 5, 7, 8, 10, 11, 12], "bool": [1, 9], "kunit_resource_name_match": 1, "match_nam": 1, "match": [1, 9, 10], "same": [1, 2, 7, 8, 9, 10, 12], "belong": [1, 2, 10, 12], "against": [1, 4, 5], "kunit_resource_match_t": 1, "match_data": 1, "appli": 1, "kunit_destroy_resourc": 1, "destroi": 1, "whether": [1, 3], "given": [1, 2, 7], "found": [1, 7], "enoent": 1, "kunit_remove_resourc": 1, "immedi": [1, 2, 3, 12], "sinc": [1, 11, 12], "like": [1, 2, 4, 5, 7, 8, 9, 10, 11, 12], "ha": [1, 2, 3, 4, 5, 7, 8, 9, 10, 12], "final": [1, 4, 12], "enum": 2, "kunit_statu": 2, "type": [2, 3, 10, 12], "suit": [2, 4, 5, 7, 9, 11], "constant": 2, "kunit_success": 2, "denot": [2, 3], "fail": [2, 3, 5, 7, 8, 9], "nor": 2, "been": 2, "skip": [2, 12], "kunit_failur": 2, "kunit_skip": 2, "kunit_cas": [2, 3, 9, 12], "individu": [2, 6, 7, 10], "run_cas": 2, "generate_param": 2, "prev": 2, "desc": [2, 12], "actual": [2, 10, 12], "gener": [2, 3, 7, 9, 10, 11, 12], "parameter": 2, "A": [2, 3, 4, 5, 7, 9, 10, 12], "signatur": [2, 3, 12], "make": [2, 3, 4, 7, 8, 9, 10, 11, 12], "expect": [2, 3, 5, 9], "assert": [2, 5], "kunit_expect_tru": 2, "kunit_assert_tru": 2, "about": [2, 8, 10, 11, 12], "code": [2, 3, 4, 5, 7, 9, 10], "under": [2, 4, 5, 7, 9, 10, 12], "each": [2, 3, 7, 8, 11, 12], "kunit_suit": [2, 3, 8, 9, 10, 12], "run": [2, 3, 5, 10, 12], "after": [2, 3, 4, 7, 8, 9, 10, 11, 12], "exit": [2, 3, 5, 8], "creat": [2, 5, 8, 9, 12], "macro": [2, 10, 11, 12], "addition": 2, "everi": [2, 9, 10, 12], "arrai": [2, 3, 12], "termin": [2, 3, 12], "empti": 2, "add_test_bas": [2, 12], "kunit_expect_eq": [2, 9, 11, 12], "1": [2, 7, 8, 9, 11, 12], "2": [2, 7, 9, 12], "int_max": [2, 9, 12], "int_min": [2, 9, 12], "example_test_cas": [2, 3, 12], "test_nam": 2, "take": [2, 9, 10, 11], "symbol": 2, "how": [2, 8, 9, 11, 12], "kunit_case_param": [2, 3, 12], "gen_param": 2, "creation": 2, "lazili": 2, "seri": 2, "arbitrarili": 2, "fit": 2, "argument": [2, 3, 5, 8, 9, 11], "previous": 2, "deriv": [2, 12], "next": [2, 3, 5, 8, 10, 12], "null": [2, 3, 8, 10, 12], "avail": [2, 4, 7, 12], "write": [2, 4, 7, 8, 10], "string": [2, 11, 12], "kunit_param_desc_s": 2, "describ": 2, "relat": [2, 10, 12], "collect": [2, 3, 4, 7, 10, 12], "256": 2, "suite_init": [2, 12], "suite_exit": [2, 12], "test_cas": [2, 3, 9, 12], "pure": 2, "inform": [2, 4, 8, 9, 10, 12], "onc": [2, 3, 6, 7, 11, 12], "befor": [2, 3, 4, 7, 8, 9, 11, 12], "similar": [2, 4, 10, 12], "notion": 2, "fixtur": 2, "class": [2, 3], "other": [2, 3, 5, 6, 7, 8, 9, 10], "unit": [2, 3, 10, 12], "framework": [2, 4, 5, 9, 10, 12], "junit": [2, 5], "googletest": [2, 5], "priv": [2, 3, 11, 12], "commonli": [2, 7], "current": [2, 3, 4, 5, 6, 7, 8, 9], "privat": [2, 12], "access": [2, 5, 6], "indirectli": 2, "public": 2, "one": [2, 4, 7, 8, 9, 10, 11, 12], "except": [2, 3, 12], "writer": 2, "kunit_test_suit": [2, 3, 9, 12], "__suit": 2, "place": [2, 7, 10], "elf": 2, "builtin": 2, "executor": 2, "boot": [2, 3, 4, 5, 6, 7, 8, 9], "built": [2, 3, 4, 5, 6, 7, 9, 10, 12], "modul": [2, 3, 4, 5, 6, 9, 12], "thei": [2, 4, 6, 7, 8, 9, 10], "load": [2, 4, 5, 6, 9, 12], "kunit_test_init_section_suit": 2, "contain": [2, 3, 7, 9, 10, 12], "suppress": 2, "modpost": 2, "warn": [2, 7, 9], "referenc": 2, "mark": [2, 3, 11, 12], "__init": 2, "__initdata": 2, "ok": [2, 8], "upon": 2, "dure": [2, 8], "phase": 2, "TO": 2, "ever": 2, "allow": [2, 4, 5, 7, 12], "exclud": [2, 5], "thing": [2, 3, 4, 5, 11], "differ": [2, 5, 7, 8, 9, 10, 12], "suffix": [2, 10], "declar": [2, 12], "_probe": 2, "manner": [2, 5], "kunit_kmalloc_arrai": [2, 12], "n": [2, 10], "kmalloc_arrai": 2, "number": [2, 4, 7, 9, 12], "element": [2, 10], "byte": [2, 12], "desir": [2, 9], "flag": [2, 5, 7, 8], "underli": [2, 12], "conclud": 2, "kunit_kfre": 2, "ptr": 2, "kunit_kzalloc": [2, 11, 12], "zero": [2, 8], "kzalloc": [2, 11, 12], "kunit_kcalloc": 2, "kcalloc": 2, "kunit_mark_skip": 2, "test_or_suit": 2, "fmt": [2, 11, 12], "printk": 2, "style": [2, 5, 7], "format": [2, 3, 5, 6, 7, 8, 9, 11], "variabl": [2, 7, 11, 12], "output": [2, 3, 7, 8, 9, 10, 12], "statu": 2, "comment": [2, 8], "typic": 2, "reason": [2, 10, 12], "execut": [2, 3, 4, 8, 9, 11, 12], "continu": [2, 11, 12], "halt": 2, "kunit_info": 2, "print": [2, 3, 7, 9, 12], "info": [2, 8], "level": [2, 8], "messag": [2, 3, 4, 5, 12], "being": [2, 4, 10], "kunit_warn": 2, "kunit_err": 2, "error": [2, 3, 4, 5, 8, 9, 12], "kunit_succe": 2, "op": [2, 3, 11, 12], "exist": [2, 3, 4, 6, 7, 8, 9, 10], "clariti": 2, "opposit": 2, "kunit_fail": [2, 9, 11, 12], "cannot": [2, 10], "In": [2, 4, 5, 7, 9, 10, 11, 12], "word": [2, 10], "noth": [2, 12], "alwai": [2, 4, 6, 12], "caus": [2, 3, 4, 8, 10, 12], "evalu": 2, "made": [2, 11, 12], "consequ": 2, "condit": [2, 10, 12], "failur": [2, 3, 9, 11, 12], "express": 2, "true": [2, 3, 4], "boolean": [2, 3], "form": [2, 10], "kunit_expect_": 2, "met": 2, "howev": [2, 4, 8, 9, 12], "prevent": 2, "known": [2, 10, 12], "kunit_expect_fals": 2, "fals": [2, 8, 10], "left": [2, 9], "right": [2, 9], "equal": [2, 3], "primit": 2, "c": [2, 3, 5, 8, 9, 10, 11, 12], "semant": 2, "equival": [2, 7], "kunit_expect_ptr_eq": 2, "kunit_expect_n": 2, "kunit_expect_ptr_n": 2, "kunit_expect_lt": 2, "less": [2, 5, 8], "than": [2, 5, 7, 8, 9, 12], "kunit_expect_l": [2, 12], "kunit_expect_gt": 2, "greater": [2, 5], "kunit_expect_g": 2, "kunit_expect_streq": [2, 12], "strcmp": 2, "kunit_expect_strneq": 2, "kunit_expect_nul": 2, "kunit_expect_not_nul": 2, "kunit_expect_not_err_or_nul": 2, "err": [2, 3], "errno": [2, 9, 12], "is_err_or_nul": 2, "abort": 2, "kunit_assert_": 2, "unlik": 2, "kunit_assert_fals": 2, "kunit_assert_eq": [2, 11, 12], "kunit_assert_ptr_eq": 2, "kunit_assert_n": 2, "kunit_assert_ptr_n": 2, "kunit_assert_lt": 2, "kunit_assert_l": 2, "kunit_assert_gt": 2, "kunit_assert_g": 2, "kunit_assert_streq": [2, 11, 12], "kunit_assert_strneq": 2, "kunit_assert_nul": 2, "kunit_assert_not_nul": 2, "kunit_assert_not_err_or_nul": [2, 11, 12], "kunit_array_param": [2, 12], "get_desc": 2, "defin": [2, 3, 5, 7, 9, 11, 12], "prefix": [2, 7, 9, 10], "convert": [2, 12], "default": [2, 7, 9, 10], "name_gen_param": 2, "two": [3, 4, 7, 12], "part": [3, 4, 5, 7, 8, 10, 12], "librari": [3, 4, 12], "support": [3, 5, 6, 7, 8, 12], "written": [3, 4, 5, 6, 7, 10], "sever": [3, 7, 10], "organ": 3, "provid": [3, 4, 5, 7, 9, 10, 11, 12], "fundament": [3, 12], "group": [3, 5, 7, 10], "These": [3, 7, 10, 11], "wrap": 3, "track": [3, 4], "As": [3, 7, 8, 9, 10], "setup": [3, 11, 12], "param_valu": [3, 12], "includ": [3, 6, 7, 9, 10, 11, 12], "For": [3, 4, 5, 6, 7, 9, 10], "example_test_foo": [3, 12], "example_test_bar": [3, 12], "example_test_baz": [3, 12], "example_test_suit": [3, 12], "example_test_init": [3, 12], "example_test_exit": [3, 12], "abov": [3, 4, 7, 10, 11, 12], "linker": [3, 12], "http": [3, 7], "git": [3, 7, 8], "org": [3, 7], "pub": [3, 7], "scm": [3, 7], "linux": [3, 4, 7, 8, 9, 11, 12], "torvald": [3, 7], "tree": [3, 7, 9, 10], "asm": 3, "vmlinux": [3, 4], "ld": 3, "h": [3, 9, 11, 12], "v5": 3, "15": 3, "n945": 3, "consist": [3, 10], "popul": 3, "To": [3, 5, 7, 9, 10, 12], "compil": [3, 4, 7, 8, 9, 10, 12], "iter": [3, 12], "over": [3, 11, 12], "diagram": 3, "On": [3, 4, 12], "start": [3, 5, 7], "address": [3, 9], "lib": [3, 7, 8], "module_init": 3, "some": [3, 4, 6, 8, 9, 10, 11, 12], "do": [3, 6, 8, 9, 10, 12], "affect": [3, 9, 12], "separ": [3, 7, 9, 10], "thread": [3, 7], "try": [3, 4, 12], "catch": 3, "n58": 3, "verifi": [3, 5, 7], "kunit_": 3, "_": 3, "_msg": [3, 11, 12], "properti": [3, 10, 12], "determin": [3, 4], "check": [3, 8, 11, 12], "log": [3, 5, 6, 7, 8, 9, 12], "__noreturn": 3, "kunit_abort": 3, "kunit_try_catch_throw": 3, "kunit_try_catch": [3, 10], "try_catch": [3, 10], "kthread_complete_and_exit": 3, "complet": [3, 5, 11, 12], "long": [3, 5, 7, 9, 10], "special": [3, 12], "eq": 3, "not_err_or_nul": 3, "ktap": [3, 5], "base": [3, 7, 10, 12], "tap14": 3, "github": 3, "com": [3, 4, 8], "isaac": 3, "testanyth": 3, "io": 3, "blob": 3, "tap": [3, 6, 7, 8, 9], "version": [3, 5, 8, 12], "14": [3, 8], "specif": [3, 7, 8, 9, 10, 11, 12], "md": 3, "yet": [3, 8, 9], "work": [3, 5, 7, 8, 9, 12], "kselftest": [3, 5], "dmesg": [3, 6, 7, 8], "debugf": [3, 6], "configur": [3, 4, 5, 8], "invok": 3, "multipl": [3, 5, 10], "time": [3, 5, 7, 9, 10, 12], "accept": [3, 5, 7, 8], "previou": 3, "common": [3, 5, 7, 9, 10], "python": [3, 5, 7, 9], "script": [3, 5, 7, 9], "py": [3, 4, 5, 7, 9], "build": [3, 4, 5, 8, 9, 10], "exec": [3, 4, 7], "pars": [3, 4, 5, 6, 8, 9], "order": [3, 5, 7, 12], "either": [3, 5, 6, 7, 10, 12], "manual": [3, 4, 5, 6, 7, 9], "config": [3, 4, 6, 7, 8, 9, 10], "kunitconfig": [3, 5, 8, 9], "addit": [3, 5, 7, 9, 11, 12], "qemu_config": [3, 7], "powerpc": 3, "both": [3, 10], "ensur": [3, 7, 9, 11, 12], "superset": [3, 9], "combin": [3, 8], "olddefconfig": 3, "regener": 3, "now": [3, 9, 11, 12], "kconfig": [3, 5, 7, 8], "depend": [3, 4, 5, 6, 7, 8, 10, 12], "correctli": [3, 9, 12], "kunit_config": 3, "kunit_kernel": 3, "build_dir": [3, 7, 9], "mode": [3, 5], "emul": [3, 6], "qemu": [3, 4, 5, 9, 12], "read": [3, 5, 6, 7, 9, 12], "stdout": [3, 7, 8], "them": [3, 4, 5, 7, 8, 12], "alreadi": [3, 7, 10], "have": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "displai": [3, 5, 7], "extract": [3, 8], "summari": [3, 7], "diagnost": 3, "suppos": 4, "singl": [4, 5, 10, 12], "isol": [4, 5, 8], "henc": [4, 8, 9], "finest": [4, 5], "granular": [4, 5], "possibl": [4, 5, 6, 7, 8, 9, 10, 12], "path": [4, 5, 7, 9, 10], "small": [4, 5], "extern": [4, 5], "outsid": [4, 5, 10, 11, 12], "control": [4, 5, 11, 12], "hardwar": [4, 5, 6, 12], "There": [4, 8, 9, 10, 11, 12], "instal": [4, 5, 7, 8], "machin": 4, "virtual": 4, "userspac": 4, "disqualifi": 4, "consid": 4, "ye": 4, "mostli": 4, "core": [4, 7], "anoth": [4, 12], "infrastructur": 4, "wrapper": [4, 5], "might": [4, 7, 8, 10, 11, 12], "short": [4, 12], "would": [4, 8, 10, 11, 12], "categor": [4, 10], "integr": [4, 6, 9, 10, 12], "interact": 4, "minim": [4, 7, 9], "compon": [4, 5, 10], "usual": [4, 6, 9], "three": [4, 7], "someon": 4, "driver": [4, 5, 9, 10], "piec": [4, 12], "probabl": [4, 8, 11, 12], "entir": 4, "along": [4, 8], "system": [4, 5, 6, 7, 9, 10], "perspect": 4, "product": [4, 6, 9, 12], "exercis": 4, "behavior": [4, 5], "unfortun": 4, "break": [4, 8, 10], "here": [4, 8, 11, 12], "raw_output": [4, 7], "show": [4, 8, 10], "detail": [4, 5, 8, 9, 12], "hidden": 4, "kunit_tool": [4, 5], "parser": 4, "independ": [4, 7], "help": [4, 7, 10], "down": [4, 8, 12], "where": [4, 10, 11, 12], "issu": [4, 8, 12], "occur": 4, "think": [4, 8], "fault": 4, "stdin": [4, 7], "often": [4, 10], "reveal": 4, "ignor": [4, 7], "simpl": [4, 5, 6, 7, 8, 9, 10], "unusu": 4, "host": 4, "tmpf": 4, "filesystem": [4, 6, 10], "mount": [4, 6], "had": [4, 11, 12], "past": [4, 12], "kaslr": [4, 9], "enabl": [4, 6, 7, 8, 9, 10, 11, 12], "older": 4, "mai": [4, 6, 7, 9, 10, 12], "setarch": 4, "unam": 4, "m": [4, 8], "r": [4, 8, 12], "disabl": [4, 7, 9, 12], "sure": [4, 11, 12], "config_kunit": [4, 6, 8, 9, 10], "y": [4, 7, 8, 9], "least": 4, "config_kunit_example_test": [4, 8], "keep": 4, "its": [4, 8, 9, 10], "around": [4, 5, 8], "preserv": 4, "chang": [4, 7, 8, 9, 10, 12], "arch": [4, 7, 9, 12], "um": [4, 7, 9], "menuconfig": [4, 7, 9], "defconfig": [4, 7, 9], "residu": 4, "item": 4, "could": [4, 8, 10, 11, 12], "problem": [4, 9, 10], "runtim": 4, "sy": [4, 6, 8], "debug": [4, 6, 7, 8, 11, 12], "trick": 4, "welcom": 4, "email": 4, "googlegroup": 4, "without": [5, 8, 10, 11, 12], "first": [5, 12], "step": [5, 8], "architectur": [5, 7, 8, 9], "command": [5, 8, 9], "line": [5, 9, 12], "har": 5, "filter": [5, 8], "pattern": [5, 9], "input": [5, 7, 10], "earli": [5, 8], "inject": 5, "api": [5, 9, 10, 11, 12], "nomenclatur": 5, "subsystem": [5, 7], "entri": 5, "frequent": 5, "ask": 5, "question": [5, 9], "autotest": 5, "uml": [5, 7, 9, 12], "what": [5, 7, 8, 10, 12], "between": [5, 9, 12], "kind": 5, "tip": [5, 9], "report": [5, 11, 12], "appear": [5, 6, 7], "anyth": [5, 7], "protocol": [5, 7], "inspir": 5, "unittest": 5, "mock": [5, 11, 12], "googlemock": 5, "program": [5, 12], "languag": [5, 12], "implement": [5, 10, 11, 12], "invoc": [5, 7, 9, 12], "100": 5, "10": 5, "second": [5, 7, 12], "devic": 5, "white": 5, "box": 5, "approach": 5, "space": [5, 9], "restrict": 5, "expos": [5, 8, 11, 12], "friendli": 5, "millisecond": 5, "5": [5, 8], "good": [5, 6, 9, 10], "arrang": 5, "act": 5, "great": 5, "wai": [5, 6, 7, 8, 9, 10, 12], "structur": [5, 11, 12], "oper": 5, "target": [5, 7], "At": 5, "statement": [5, 8], "outcom": 5, "increas": 5, "speed": 5, "develop": 5, "detect": 5, "bug": [5, 11, 12], "stage": 5, "decreas": 5, "fix": [5, 12], "cost": [5, 8], "compar": [5, 12], "improv": 5, "qualiti": 5, "encourag": [5, 10], "testabl": 5, "new": [5, 8, 9], "run_wrapp": [5, 9], "run_manu": [5, 7, 9], "usag": [5, 9, 11], "best": [5, 9], "practic": [5, 9], "index": [5, 9], "faq": [5, 9], "answer": [5, 9], "want": [6, 7, 8, 9, 11, 12], "real": [6, 11, 12], "out": [6, 8, 9, 12], "design": 6, "stabil": 6, "secur": 6, "vm": 6, "wish": 6, "our": [6, 7, 8, 12], "don": [6, 8, 11], "_kunit_test": [6, 9, 10], "kunit_all_test": [6, 9, 10], "satisfi": [6, 7, 12], "quickli": 6, "everyth": [6, 9, 12], "applic": 6, "modprob": [6, 8], "config_kunit_debugf": [6, 8], "test_suit": 6, "timeout": 7, "30": 7, "job": 7, "nproc": 7, "maximum": 7, "amount": [7, 12], "directori": [7, 9, 10], "fragment": [7, 8], "pre": 7, "certain": 7, "particular": [7, 12], "f": [7, 9, 12], "ext4": [7, 9, 10, 12], "view": 7, "rather": 7, "those": 7, "minconfig": 7, "savedefconfig": [7, 9], "regular": [7, 8], "featur": [7, 8], "block": 7, "cd": [7, 8, 9], "path_to_linux_repo": [7, 9], "cp": [7, 9], "config_list_kunit_test": [7, 9], "someth": [7, 11, 12], "rebuild": [7, 9], "updat": 7, "subset": 7, "mean": [7, 8], "adjust": 7, "dir": [7, 8, 9], "o": [7, 8, 9], "process": [7, 8], "discuss": [7, 8, 12], "sequenc": [7, 8], "raw": 7, "human": [7, 10], "readabl": [7, 12], "filenam": [7, 10], "var": [7, 8], "By": [7, 9, 12], "bash": [7, 8], "glob": [7, 8, 9], "wildcard": [7, 9], "charact": [7, 9], "well": [7, 8], "select": [7, 12], "kbuild": 7, "Not": [7, 10, 11], "handl": [7, 8, 12], "non": [7, 8, 10, 11, 12], "i386": 7, "x86_64": 7, "arm": 7, "cross_compil": 7, "toolchain": 7, "remind": 7, "binari": [7, 8], "gcc": [7, 8], "sparc64": 7, "gnu": 7, "sparc": 7, "home": 7, "microblaz": 7, "9": 7, "nolibc": 7, "bin": [7, 8], "download": 7, "dai": 7, "websit": 7, "cross": 7, "ll": 7, "s390": 7, "s390x": 7, "own": [7, 12], "qemuconfig": 7, "import": [7, 8], "qemuarchparam": 7, "top": [7, 8, 9], "qemu_arch": 7, "assign": 7, "replac": [7, 12], "60": 7, "12": [7, 8], "environ": [7, 9, 12], "below": [7, 8, 9, 10, 11, 12], "etc": [7, 11, 12], "make_opt": [7, 8], "w": 7, "alltest": 7, "predefin": 7, "mani": [7, 9, 10, 12], "all_test": 7, "config_kunit_all_test": [7, 9, 10], "locat": 7, "kconfig_add": [7, 9], "append": [7, 8, 10], "config_kasan": 7, "qemu_arg": 7, "smp": 7, "8": 7, "simultan": 7, "taken": 7, "kernel_arg": [7, 8], "repeat": 7, "run_isol": 7, "hermet": 7, "ran": [7, 8], "unformat": 7, "full": [7, 10, 11], "json": 7, "save": [7, 9], "handi": 8, "run_kunit": 8, "rev": 8, "toplevel": 8, "6": 8, "didn": [8, 9], "unless": [8, 10], "root": 8, "subshel": 8, "suite_glob": 8, "test_glob": 8, "sai": [8, 10, 11], "sysctl": 8, "echo": 8, "nconfig_kunit_all_test": 8, "pai": 8, "easier": 8, "fiddl": 8, "ad": [8, 10], "hoc": 8, "especi": 8, "altern": [8, 11], "convent": [8, 10], "rel": 8, "versu": 8, "kept": 8, "local": 8, "decid": 8, "enough": [8, 12], "submit": 8, "parent": [8, 10, 12], "child": [8, 12], "iffi": 8, "But": [8, 9, 11], "longer": 8, "One": 8, "recurs": 8, "automag": 8, "theoret": 8, "incompat": 8, "tricki": 8, "42": [8, 11, 12], "param2": 8, "todo": 8, "brendanhiggin": 8, "googl": 8, "variou": 8, "7": [8, 9], "miss": 8, "gcda": 8, "normal": [8, 11, 12], "gcov": 8, "config_gcov_kernel": 8, "config_debug_kernel": 8, "config_debug_info": 8, "config_debug_info_dwarf_toolchain_default": 8, "config_gcov": 8, "put": [8, 10, 12], "togeth": 8, "copi": [8, 12], "pastabl": 8, "coverage_uml": 8, "lcov": 8, "my_kunit_test": [8, 11, 12], "d": [8, 11, 12], "html": 8, "tmp": 8, "genhtml": 8, "coverage_html": 8, "doesn": [8, 11], "tweak": 8, "cc": 8, "usr": 8, "fairli": 8, "straightforward": 8, "focu": 8, "Then": [8, 12], "signal": 8, "subtest": [8, 10], "example_simple_test": [8, 9, 11, 12], "loadabl": 8, "13": 8, "thu": [8, 12], "ideal": 8, "edg": 8, "author": 8, "kunit_test": [8, 11, 12], "familiar": 8, "regardless": 8, "cat": [8, 9], "correspond": [8, 10], "go": 8, "awai": [8, 11], "No": 8, "vagu": 8, "advic": 8, "That": 8, "reset": [8, 12], "counter": 8, "page": [9, 11], "overview": 9, "teach": 9, "cover": [9, 10, 12], "face": 9, "repositori": 9, "sourc": [9, 10], "pleas": [9, 10], "mrproper": 9, "happen": [9, 12], "through": 9, "caveat": 9, "mention": 9, "admin": 9, "guid": 9, "inde": 9, "solv": 9, "awar": 9, "delet": 9, "lot": 9, "while": [9, 10], "reachabl": 9, "point": 9, "live": 9, "edit": 9, "link": 9, "fat_f": 9, "fat": 9, "trigger": 9, "overwrit": 9, "satisfactori": 9, "instruct": 9, "regard": 9, "manpag": 9, "period": 9, "interpret": 9, "let": [9, 11, 12], "assum": [9, 11, 12], "kunit_executor_test": 9, "64": 9, "insid": 9, "unsupport": 9, "layout": 9, "random": 9, "suitabl": 9, "hack": [9, 10], "coverag": [9, 10], "interspers": 9, "misc": 9, "misc_example_add": 9, "misc_exampl": 9, "my": 9, "makefil": 9, "obj": 9, "config_misc_exampl": 9, "readi": 9, "example_test": 9, "misc_example_add_test_bas": 9, "misc_example_test_failur": 9, "never": [9, 12], "misc_example_test_cas": 9, "misc_example_test_suit": 9, "misc_example_test": 9, "tristat": [9, 10], "config_misc_example_test": 9, "16": [9, 11, 12], "08": 9, "57": 9, "17": 9, "congrat": 9, "wrote": 9, "strongli": 10, "accord": 10, "guidelin": 10, "rule": 10, "conflict": [10, 12], "recommend": [10, 12], "deviat": 10, "port": 10, "seriou": 10, "determinist": 10, "produc": 10, "posit": 10, "neg": 10, "easi": [10, 11, 12], "area": [10, 12], "wherev": 10, "avoid": [10, 12], "ambigu": 10, "necessari": 10, "underscor": 10, "apparmor": 10, "lsm": 10, "kasan": 10, "promin": 10, "mm": 10, "snd_hda_codec_hdmi": 10, "snd": 10, "hda": 10, "codec": 10, "hdmi": 10, "shown": [10, 12], "linear": 10, "rang": 10, "dash": 10, "prefer": [10, 11, 12], "linear_rang": 10, "qo": 10, "power_qo": 10, "better": [10, 12], "pc_parallel_port": 10, "parport_pc": 10, "explicitli": 10, "know": [10, 12], "futur": 10, "share": [10, 12], "shutdown": 10, "split": 10, "event": 10, "last": [10, 12], "present": 10, "_test": 10, "_unittest": 10, "ext4_inod": 10, "inod": [10, 12], "apparmor_property_entri": 10, "property_entri": 10, "ext4_ext4_inod": 10, "twice": 10, "kasan_integration_test": 10, "redundantli": 10, "integration_test": 10, "kasan_unittest": 10, "constrain": 10, "codepath": 10, "themselv": 10, "identifi": [10, 12], "creativ": 10, "idea": 10, "pollut": 10, "global": 10, "namespac": 10, "unpack_u32_with_null_nam": 10, "unpack_u32": 10, "test_list_splic": 10, "list_splic": 10, "test_": 10, "fulli": 10, "qualifi": 10, "colon": 10, "ti": 10, "config_": 10, "alongsid": 10, "visibl": 10, "brief": 10, "text": 10, "abl": [10, 11, 12], "meet": 10, "unabl": 10, "look": [10, 12], "foo_kunit_test": 10, "foo": 10, "_kunit": 10, "easiest": 10, "achiev": 10, "sens": 10, "modifi": 10, "redund": 10, "foo_firmwar": 10, "firmware_test": 10, "friend": 11, "unsaf": [11, 12], "kunit_assert": [11, 12], "variant": [11, 12], "example_test_user_alloc_funct": [11, 12], "alloc_some_object_for_m": [11, 12], "got": [11, 12], "valid": [11, 12], "back": [11, 12], "do_something_with_object": [11, 12], "particularli": 11, "worri": [11, 12], "rememb": [11, 12], "example_test_alloc": [11, 12], "buffer": [11, 12], "succeed": [11, 12], "condition": [11, 12], "my_fil": [11, 12], "do_interesting_th": [11, 12], "ifdef": [11, 12], "config_my_kunit_test": [11, 12], "endif": [11, 12], "similarli": 11, "logic": [11, 12], "test_only_hook": [11, 12], "els": [11, 12], "fake": 11, "task_struct": [11, 12], "slightli": [11, 12], "depth": 11, "sched": [11, 12], "test_data": [11, 12], "foo_result": [11, 12], "want_foo_called_with": [11, 12], "fake_foo": [11, 12], "arg": [11, 12], "somewher": [11, 12], "flexibl": [11, 12], "sometim": 11, "kunit_fail_current_test": [11, 12], "pull": [11, 12], "extra": [11, 12], "config_extra_debug_check": [11, 12], "validate_my_data": [11, 12], "is_valid": [11, 12], "p": [11, 12], "invalid": [11, 12], "my_debug_funct": [11, 12], "kunit_expect": 11, "some_str": 11, "41": 11, "generate_sha1_hex_str": 11, "tell": [11, 12], "why": 11, "strlen": 11, "40": [11, 12], "offend": 11, "kunit_expect_eq_msg": 11, "some_setup_funct": 11, "explan": 11, "example_test_success": 12, "example_test_failur": 12, "hand": 12, "violat": 12, "until": 12, "oppos": 12, "later": 12, "learn": 12, "understand": 12, "focus": 12, "rigor": 12, "add_test_neg": 12, "add_test_max": 12, "add_test_overflow": 12, "test_sort": 12, "test_len": 12, "sizeof": 12, "725861": 12, "6599": 12, "sort": 12, "cmpint": 12, "method": 12, "stop": 12, "crash": 12, "assert_not_err_or_nul": 12, "u": 12, "bail": 12, "appropri": 12, "duplic": 12, "close": 12, "concept": 12, "teardown": 12, "whole": 12, "example_suite_init": 12, "example_suite_exit": 12, "late_init": 12, "obtain": 12, "monetarili": 12, "softwar": 12, "nevertheless": 12, "still": 12, "realli": 12, "even": 12, "physic": 12, "few": 12, "narrow": 12, "exactli": 12, "bit": 12, "procedur": 12, "limit": 12, "rest": 12, "come": 12, "construct": 12, "easili": 12, "accordingli": 12, "project": 12, "orient": 12, "gnome": 12, "gobject": 12, "central": 12, "contract": 12, "forc": 12, "overridden": 12, "embed": 12, "comput": 12, "offset": 12, "shape": 12, "rectangl": 12, "length": 12, "width": 12, "rectangle_area": 12, "self": 12, "container_of": 12, "rectangle_new": 12, "ceas": 12, "becom": 12, "behav": 12, "standpoint": 12, "hard": 12, "deal": 12, "slow": 12, "eeprom": 12, "content": 12, "ssize_t": 12, "And": 12, "eeprom_buff": 12, "flush": 12, "flush_count": 12, "exce": 12, "new_eeprom_buff": 12, "destroy_eeprom_buff": 12, "fake_eeprom": 12, "fake_eeprom_contents_s": 12, "fake_eeprom_read": 12, "min": 12, "memcpi": 12, "fake_eeprom_writ": 12, "fake_eeprom_init": 12, "memset": 12, "eeprom_buffer_test": 12, "eeprom_buffer_test_does_not_write_until_flush": 12, "ctx": 12, "0xff": 12, "size_max": 12, "eeprom_buffer_test_flushes_after_flush_count_met": 12, "eeprom_buffer_test_flushes_increments_of_flush_count": 12, "eeprom_buffer_test_init": 12, "eeprom_buffer_test_exit": 12, "hash": 12, "sha1sum": 12, "test_sha1": 12, "kunit_expect_streq_msg": 12, "hello": 12, "world": 12, "2aae6c35c94fcfb415dbe95f408b9ce91ee846": 12, "430ce34d020724ed75a196dfc2ad67c77772d169": 12, "clearer": 12, "loop": 12, "complic": 12, "tabl": 12, "driven": 12, "variat": 12, "sha1_test_cas": 12, "str": 12, "sha1": 12, "array_s": 12, "boilerpl": 12, "involv": 12, "due": 12, "across": 12, "sha256sum": 12, "sha256": 12, "reus": 12, "case_to_desc": 12, "strcpy": 12, "sha1_gen_param": 12, "sha1_test": 12, "bodi": 12, "former": 12, "test_param": 12, "concurr": 12, "leak": 12}, "objects": {"": [[2, 0, 1, "c.KUNIT_ARRAY_PARAM", "KUNIT_ARRAY_PARAM"], [2, 0, 1, "c.KUNIT_ASSERT_EQ", "KUNIT_ASSERT_EQ"], [2, 0, 1, "c.KUNIT_ASSERT_FALSE", "KUNIT_ASSERT_FALSE"], [2, 0, 1, "c.KUNIT_ASSERT_GE", "KUNIT_ASSERT_GE"], [2, 0, 1, "c.KUNIT_ASSERT_GT", "KUNIT_ASSERT_GT"], [2, 0, 1, "c.KUNIT_ASSERT_LE", "KUNIT_ASSERT_LE"], [2, 0, 1, "c.KUNIT_ASSERT_LT", "KUNIT_ASSERT_LT"], [2, 0, 1, "c.KUNIT_ASSERT_NE", "KUNIT_ASSERT_NE"], [2, 0, 1, "c.KUNIT_ASSERT_NOT_ERR_OR_NULL", "KUNIT_ASSERT_NOT_ERR_OR_NULL"], [2, 0, 1, "c.KUNIT_ASSERT_NOT_NULL", "KUNIT_ASSERT_NOT_NULL"], [2, 0, 1, "c.KUNIT_ASSERT_NULL", "KUNIT_ASSERT_NULL"], [2, 0, 1, "c.KUNIT_ASSERT_PTR_EQ", "KUNIT_ASSERT_PTR_EQ"], [2, 0, 1, "c.KUNIT_ASSERT_PTR_NE", "KUNIT_ASSERT_PTR_NE"], [2, 0, 1, "c.KUNIT_ASSERT_STREQ", "KUNIT_ASSERT_STREQ"], [2, 0, 1, "c.KUNIT_ASSERT_STRNEQ", "KUNIT_ASSERT_STRNEQ"], [2, 0, 1, "c.KUNIT_ASSERT_TRUE", "KUNIT_ASSERT_TRUE"], [2, 0, 1, "c.KUNIT_CASE", "KUNIT_CASE"], [2, 0, 1, "c.KUNIT_CASE_PARAM", "KUNIT_CASE_PARAM"], [2, 0, 1, "c.KUNIT_EXPECT_EQ", "KUNIT_EXPECT_EQ"], [2, 0, 1, "c.KUNIT_EXPECT_FALSE", "KUNIT_EXPECT_FALSE"], [2, 0, 1, "c.KUNIT_EXPECT_GE", "KUNIT_EXPECT_GE"], [2, 0, 1, "c.KUNIT_EXPECT_GT", "KUNIT_EXPECT_GT"], [2, 0, 1, "c.KUNIT_EXPECT_LE", "KUNIT_EXPECT_LE"], [2, 0, 1, "c.KUNIT_EXPECT_LT", "KUNIT_EXPECT_LT"], [2, 0, 1, "c.KUNIT_EXPECT_NE", "KUNIT_EXPECT_NE"], [2, 0, 1, "c.KUNIT_EXPECT_NOT_ERR_OR_NULL", "KUNIT_EXPECT_NOT_ERR_OR_NULL"], [2, 0, 1, "c.KUNIT_EXPECT_NOT_NULL", "KUNIT_EXPECT_NOT_NULL"], [2, 0, 1, "c.KUNIT_EXPECT_NULL", "KUNIT_EXPECT_NULL"], [2, 0, 1, "c.KUNIT_EXPECT_PTR_EQ", "KUNIT_EXPECT_PTR_EQ"], [2, 0, 1, "c.KUNIT_EXPECT_PTR_NE", "KUNIT_EXPECT_PTR_NE"], [2, 0, 1, "c.KUNIT_EXPECT_STREQ", "KUNIT_EXPECT_STREQ"], [2, 0, 1, "c.KUNIT_EXPECT_STRNEQ", "KUNIT_EXPECT_STRNEQ"], [2, 0, 1, "c.KUNIT_EXPECT_TRUE", "KUNIT_EXPECT_TRUE"], [2, 0, 1, "c.KUNIT_FAIL", "KUNIT_FAIL"], [2, 0, 1, "c.KUNIT_SUCCEED", "KUNIT_SUCCEED"], [1, 1, 1, "c.__kunit_add_resource", "__kunit_add_resource"], [2, 3, 1, "c.kunit", "kunit"], [1, 1, 1, "c.kunit_add_named_resource", "kunit_add_named_resource"], [1, 1, 1, "c.kunit_add_resource", "kunit_add_resource"], [1, 1, 1, "c.kunit_alloc_and_get_resource", "kunit_alloc_and_get_resource"], [1, 1, 1, "c.kunit_alloc_resource", "kunit_alloc_resource"], [2, 3, 1, "c.kunit_case", "kunit_case"], [1, 1, 1, "c.kunit_destroy_resource", "kunit_destroy_resource"], [2, 0, 1, "c.kunit_err", "kunit_err"], [1, 1, 1, "c.kunit_find_named_resource", "kunit_find_named_resource"], [1, 1, 1, "c.kunit_find_resource", "kunit_find_resource"], [1, 1, 1, "c.kunit_get_resource", "kunit_get_resource"], [2, 0, 1, "c.kunit_info", "kunit_info"], [2, 1, 1, "c.kunit_kcalloc", "kunit_kcalloc"], [2, 1, 1, "c.kunit_kfree", "kunit_kfree"], [2, 1, 1, "c.kunit_kmalloc", "kunit_kmalloc"], [2, 1, 1, "c.kunit_kmalloc_array", "kunit_kmalloc_array"], [2, 1, 1, "c.kunit_kzalloc", "kunit_kzalloc"], [2, 0, 1, "c.kunit_mark_skipped", "kunit_mark_skipped"], [1, 1, 1, "c.kunit_put_resource", "kunit_put_resource"], [1, 1, 1, "c.kunit_remove_resource", "kunit_remove_resource"], [1, 3, 1, "c.kunit_resource", "kunit_resource"], [1, 1, 1, "c.kunit_resource_name_match", "kunit_resource_name_match"], [2, 0, 1, "c.kunit_skip", "kunit_skip"], [2, 4, 1, "c.kunit_status", "kunit_status"], [2, 3, 1, "c.kunit_suite", "kunit_suite"], [2, 0, 1, "c.kunit_test_init_section_suites", "kunit_test_init_section_suites"], [2, 0, 1, "c.kunit_test_suites", "kunit_test_suites"], [2, 0, 1, "c.kunit_warn", "kunit_warn"]], "__kunit_add_resource": [[1, 2, 1, "c.__kunit_add_resource", "data"], [1, 2, 1, "c.__kunit_add_resource", "free"], [1, 2, 1, "c.__kunit_add_resource", "init"], [1, 2, 1, "c.__kunit_add_resource", "res"], [1, 2, 1, "c.__kunit_add_resource", "test"]], "kunit_add_named_resource": [[1, 2, 1, "c.kunit_add_named_resource", "data"], [1, 2, 1, "c.kunit_add_named_resource", "free"], [1, 2, 1, "c.kunit_add_named_resource", "init"], [1, 2, 1, "c.kunit_add_named_resource", "name"], [1, 2, 1, "c.kunit_add_named_resource", "res"], [1, 2, 1, "c.kunit_add_named_resource", "test"]], "kunit_add_resource": [[1, 2, 1, "c.kunit_add_resource", "data"], [1, 2, 1, "c.kunit_add_resource", "free"], [1, 2, 1, "c.kunit_add_resource", "init"], [1, 2, 1, "c.kunit_add_resource", "res"], [1, 2, 1, "c.kunit_add_resource", "test"]], "kunit_alloc_and_get_resource": [[1, 2, 1, "c.kunit_alloc_and_get_resource", "context"], [1, 2, 1, "c.kunit_alloc_and_get_resource", "free"], [1, 2, 1, "c.kunit_alloc_and_get_resource", "init"], [1, 2, 1, "c.kunit_alloc_and_get_resource", "internal_gfp"], [1, 2, 1, "c.kunit_alloc_and_get_resource", "test"]], "kunit_alloc_resource": [[1, 2, 1, "c.kunit_alloc_resource", "context"], [1, 2, 1, "c.kunit_alloc_resource", "free"], [1, 2, 1, "c.kunit_alloc_resource", "init"], [1, 2, 1, "c.kunit_alloc_resource", "internal_gfp"], [1, 2, 1, "c.kunit_alloc_resource", "test"]], "kunit_destroy_resource": [[1, 2, 1, "c.kunit_destroy_resource", "match"], [1, 2, 1, "c.kunit_destroy_resource", "match_data"], [1, 2, 1, "c.kunit_destroy_resource", "test"]], "kunit_find_named_resource": [[1, 2, 1, "c.kunit_find_named_resource", "name"], [1, 2, 1, "c.kunit_find_named_resource", "test"]], "kunit_find_resource": [[1, 2, 1, "c.kunit_find_resource", "match"], [1, 2, 1, "c.kunit_find_resource", "match_data"], [1, 2, 1, "c.kunit_find_resource", "test"]], "kunit_get_resource": [[1, 2, 1, "c.kunit_get_resource", "res"]], "kunit_kcalloc": [[2, 2, 1, "c.kunit_kcalloc", "gfp"], [2, 2, 1, "c.kunit_kcalloc", "n"], [2, 2, 1, "c.kunit_kcalloc", "size"], [2, 2, 1, "c.kunit_kcalloc", "test"]], "kunit_kfree": [[2, 2, 1, "c.kunit_kfree", "ptr"], [2, 2, 1, "c.kunit_kfree", "test"]], "kunit_kmalloc": [[2, 2, 1, "c.kunit_kmalloc", "gfp"], [2, 2, 1, "c.kunit_kmalloc", "size"], [2, 2, 1, "c.kunit_kmalloc", "test"]], "kunit_kmalloc_array": [[2, 2, 1, "c.kunit_kmalloc_array", "gfp"], [2, 2, 1, "c.kunit_kmalloc_array", "n"], [2, 2, 1, "c.kunit_kmalloc_array", "size"], [2, 2, 1, "c.kunit_kmalloc_array", "test"]], "kunit_kzalloc": [[2, 2, 1, "c.kunit_kzalloc", "gfp"], [2, 2, 1, "c.kunit_kzalloc", "size"], [2, 2, 1, "c.kunit_kzalloc", "test"]], "kunit_put_resource": [[1, 2, 1, "c.kunit_put_resource", "res"]], "kunit_remove_resource": [[1, 2, 1, "c.kunit_remove_resource", "res"], [1, 2, 1, "c.kunit_remove_resource", "test"]], "kunit_resource_name_match": [[1, 2, 1, "c.kunit_resource_name_match", "match_name"], [1, 2, 1, "c.kunit_resource_name_match", "res"], [1, 2, 1, "c.kunit_resource_name_match", "test"]]}, "objtypes": {"0": "c:macro", "1": "c:function", "2": "c:functionParam", "3": "c:struct", "4": "c:enum"}, "objnames": {"0": ["c", "macro", "C macro"], "1": ["c", "function", "C function"], "2": ["c", "functionParam", "C function parameter"], "3": ["c", "struct", "C struct"], "4": ["c", "enum", "C enum"]}, "titleterms": {"api": [0, 1, 2], "refer": 0, "resourc": 1, "test": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "kunit": [3, 4, 5, 8, 9, 11], "architectur": [3, 4, 12], "In": 3, "kernel": [3, 5, 6, 8, 9], "framework": 3, "case": [3, 10, 12], "suit": [3, 8, 10, 12], "executor": 3, "assert": [3, 12], "macro": 3, "result": [3, 7, 8], "report": [3, 8], "parameter": [3, 12], "kunit_tool": [3, 6, 7, 9], "command": [3, 7], "line": [3, 7], "har": 3, "frequent": 4, "ask": 4, "question": 4, "how": [4, 5], "i": [4, 5], "thi": 4, "differ": 4, "from": [4, 8], "autotest": 4, "kselftest": 4, "so": 4, "doe": 4, "support": 4, "run": [4, 6, 7, 8, 9], "other": [4, 12], "than": 4, "uml": [4, 8], "what": 4, "between": 4, "unit": [4, 5], "kind": 4, "work": 4, "should": 4, "do": [4, 5], "linux": 5, "content": 5, "introduct": 5, "featur": 5, "prerequisit": 5, "write": [5, 9, 11, 12], "advantag": 5, "us": [5, 8], "without": [6, 9], "configur": [6, 7, 9], "creat": 7, "kunitconfig": 7, "file": [7, 10], "build": 7, "pars": 7, "filter": [7, 9], "qemu": 7, "argument": 7, "tip": [8, 11], "For": [8, 11, 12], "py": 8, "tool": 8, "ani": 8, "directori": 8, "subset": 8, "defin": 8, "set": 8, "commandlin": 8, "paramet": 8, "gener": 8, "code": [8, 11, 12], "coverag": 8, "under": 8, "manual": 8, "built": 8, "modul": [8, 10], "pretti": 8, "print": 8, "retriev": 8, "per": 8, "get": 9, "start": 9, "instal": 9, "depend": 9, "select": 9, "which": 9, "custom": [9, 11], "kconfig": [9, 10], "name": [9, 10], "wrapper": 9, "your": 9, "first": 9, "next": [9, 11], "step": [9, 11], "style": 10, "nomenclatur": 10, "subsystem": 10, "entri": 10, "exit": [11, 12], "earli": [11, 12], "fail": [11, 12], "expect": [11, 12], "alloc": [11, 12], "memori": [11, 12], "static": [11, 12], "function": [11, 12], "inject": [11, 12], "onli": [11, 12], "access": [11, 12], "current": [11, 12], "error": 11, "messag": 11, "common": 12, "pattern": 12, "isol": 12, "behavior": 12, "class": 12, "fake": 12, "against": 12, "multipl": 12, "input": 12, "The": 12}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"API Reference": [[0, "api-reference"]], "Frequently Asked Questions": [[4, "frequently-asked-questions"]], "How is this different from Autotest, kselftest, and so on?": [[4, "how-is-this-different-from-autotest-kselftest-and-so-on"]], "Does KUnit support running on architectures other than UML?": [[4, "does-kunit-support-running-on-architectures-other-than-uml"]], "What is the difference between a unit test and other kinds of tests?": [[4, "what-is-the-difference-between-a-unit-test-and-other-kinds-of-tests"]], "KUnit is not working, what should I do?": [[4, "kunit-is-not-working-what-should-i-do"]], "KUnit - Linux Kernel Unit Testing": [[5, "kunit-linux-kernel-unit-testing"]], "Contents:": [[5, null]], "Introduction": [[5, "introduction"]], "Features": [[5, "features"]], "Prerequisites": [[5, "prerequisites"]], "Unit Testing": [[5, "unit-testing"]], "Write Unit Tests": [[5, "write-unit-tests"]], "Unit Testing Advantages": [[5, "unit-testing-advantages"]], "How do I use it?": [[5, "how-do-i-use-it"]], "Run Tests without kunit_tool": [[6, "run-tests-without-kunit-tool"]], "Configure the Kernel": [[6, "configure-the-kernel"]], "KUnit Architecture": [[3, "kunit-architecture"]], "In-Kernel Testing Framework": [[3, "in-kernel-testing-framework"]], "Test Cases": [[3, "test-cases"], [12, "test-cases"], [10, "test-cases"]], "Test Suites": [[3, "test-suites"], [12, "test-suites"]], "Executor": [[3, "executor"]], "Assertion Macros": [[3, "assertion-macros"]], "Test Result Reporting": [[3, "test-result-reporting"]], "Parameterized Tests": [[3, "parameterized-tests"]], "kunit_tool (Command Line Test Harness)": [[3, "kunit-tool-command-line-test-harness"]], "Running tests with kunit_tool": [[7, "running-tests-with-kunit-tool"], [9, "running-tests-with-kunit-tool"]], "Creating a .kunitconfig file": [[7, "creating-a-kunitconfig-file"]], "Configuring, building, and running tests": [[7, "configuring-building-and-running-tests"]], "Parsing test results": [[7, "parsing-test-results"]], "Filtering tests": [[7, "filtering-tests"]], "Running tests on QEMU": [[7, "running-tests-on-qemu"]], "Running command-line arguments": [[7, "running-command-line-arguments"]], "Tips For Writing KUnit Tests": [[11, "tips-for-writing-kunit-tests"]], "Exiting early on failed expectations": [[11, "exiting-early-on-failed-expectations"]], "Allocating memory": [[11, "allocating-memory"]], "Testing static functions": [[11, "testing-static-functions"]], "Injecting test-only code": [[11, "injecting-test-only-code"]], "Accessing the current test": [[11, "accessing-the-current-test"]], "Failing the current test": [[11, "failing-the-current-test"]], "Customizing error messages": [[11, "customizing-error-messages"]], "Next Steps": [[11, "next-steps"], [9, "next-steps"]], "Getting Started": [[9, "getting-started"]], "Installing Dependencies": [[9, "installing-dependencies"]], "Selecting which tests to run": [[9, "selecting-which-tests-to-run"]], "Customizing Kconfig": [[9, "customizing-kconfig"]], "Filtering tests by name": [[9, "filtering-tests-by-name"]], "Running Tests without the KUnit Wrapper": [[9, "running-tests-without-the-kunit-wrapper"]], "Configuring the Kernel": [[9, "configuring-the-kernel"]], "Running Tests (without KUnit Wrapper)": [[9, "running-tests-without-kunit-wrapper"]], "Writing Your First Test": [[9, "writing-your-first-test"]], "Writing Tests": [[12, "writing-tests"]], "Expectations": [[12, "expectations"]], "Assertions": [[12, "assertions"]], "Writing Tests For Other Architectures": [[12, "writing-tests-for-other-architectures"]], "Common Patterns": [[12, "common-patterns"]], "Isolating Behavior": [[12, "isolating-behavior"]], "Classes": [[12, "classes"]], "Faking Classes": [[12, "faking-classes"]], "Testing Against Multiple Inputs": [[12, "testing-against-multiple-inputs"]], "Parameterized Testing": [[12, "parameterized-testing"]], "Exiting Early on Failed Expectations": [[12, "exiting-early-on-failed-expectations"]], "Allocating Memory": [[12, "allocating-memory"]], "Testing Static Functions": [[12, "testing-static-functions"]], "Injecting Test-Only Code": [[12, "injecting-test-only-code"]], "Accessing The Current Test": [[12, "accessing-the-current-test"]], "Failing The Current Test": [[12, "failing-the-current-test"]], "Test Style and Nomenclature": [[10, "test-style-and-nomenclature"]], "Subsystems, Suites, and Tests": [[10, "subsystems-suites-and-tests"]], "Subsystems": [[10, "subsystems"]], "Suites": [[10, "suites"]], "Test Kconfig Entries": [[10, "test-kconfig-entries"]], "Test File and Module Names": [[10, "test-file-and-module-names"]], "Tips For Running KUnit Tests": [[8, "tips-for-running-kunit-tests"]], "Using kunit.py run (\u201ckunit tool\u201d)": [[8, "using-kunit-py-run-kunit-tool"]], "Running from any directory": [[8, "running-from-any-directory"]], "Running a subset of tests": [[8, "running-a-subset-of-tests"]], "Defining a set of tests": [[8, "defining-a-set-of-tests"]], "Setting kernel commandline parameters": [[8, "setting-kernel-commandline-parameters"]], "Generating code coverage reports under UML": [[8, "generating-code-coverage-reports-under-uml"]], "Running tests manually": [[8, "running-tests-manually"]], "Running built-in tests": [[8, "running-built-in-tests"]], "Running tests as modules": [[8, "running-tests-as-modules"]], "Pretty-printing results": [[8, "pretty-printing-results"]], "Retrieving per suite results": [[8, "retrieving-per-suite-results"]], "Generating code coverage reports": [[8, "generating-code-coverage-reports"]], "Resource API": [[1, "resource-api"]], "Test API": [[2, "test-api"]]}, "indexentries": {"__kunit_add_resource (c function)": [[1, "c.__kunit_add_resource"]], "kunit_add_named_resource (c function)": [[1, "c.kunit_add_named_resource"]], "kunit_add_resource (c function)": [[1, "c.kunit_add_resource"]], "kunit_alloc_and_get_resource (c function)": [[1, "c.kunit_alloc_and_get_resource"]], "kunit_alloc_resource (c function)": [[1, "c.kunit_alloc_resource"]], "kunit_destroy_resource (c function)": [[1, "c.kunit_destroy_resource"]], "kunit_find_named_resource (c function)": [[1, "c.kunit_find_named_resource"]], "kunit_find_resource (c function)": [[1, "c.kunit_find_resource"]], "kunit_get_resource (c function)": [[1, "c.kunit_get_resource"]], "kunit_put_resource (c function)": [[1, "c.kunit_put_resource"]], "kunit_remove_resource (c function)": [[1, "c.kunit_remove_resource"]], "kunit_resource (c struct)": [[1, "c.kunit_resource"]], "kunit_resource_name_match (c function)": [[1, "c.kunit_resource_name_match"]], "kunit_array_param (c macro)": [[2, "c.KUNIT_ARRAY_PARAM"]], "kunit_assert_eq (c macro)": [[2, "c.KUNIT_ASSERT_EQ"]], "kunit_assert_false (c macro)": [[2, "c.KUNIT_ASSERT_FALSE"]], "kunit_assert_ge (c macro)": [[2, "c.KUNIT_ASSERT_GE"]], "kunit_assert_gt (c macro)": [[2, "c.KUNIT_ASSERT_GT"]], "kunit_assert_le (c macro)": [[2, "c.KUNIT_ASSERT_LE"]], "kunit_assert_lt (c macro)": [[2, "c.KUNIT_ASSERT_LT"]], "kunit_assert_ne (c macro)": [[2, "c.KUNIT_ASSERT_NE"]], "kunit_assert_not_err_or_null (c macro)": [[2, "c.KUNIT_ASSERT_NOT_ERR_OR_NULL"]], "kunit_assert_not_null (c macro)": [[2, "c.KUNIT_ASSERT_NOT_NULL"]], "kunit_assert_null (c macro)": [[2, "c.KUNIT_ASSERT_NULL"]], "kunit_assert_ptr_eq (c macro)": [[2, "c.KUNIT_ASSERT_PTR_EQ"]], "kunit_assert_ptr_ne (c macro)": [[2, "c.KUNIT_ASSERT_PTR_NE"]], "kunit_assert_streq (c macro)": [[2, "c.KUNIT_ASSERT_STREQ"]], "kunit_assert_strneq (c macro)": [[2, "c.KUNIT_ASSERT_STRNEQ"]], "kunit_assert_true (c macro)": [[2, "c.KUNIT_ASSERT_TRUE"]], "kunit_case (c macro)": [[2, "c.KUNIT_CASE"]], "kunit_case_param (c macro)": [[2, "c.KUNIT_CASE_PARAM"]], "kunit_expect_eq (c macro)": [[2, "c.KUNIT_EXPECT_EQ"]], "kunit_expect_false (c macro)": [[2, "c.KUNIT_EXPECT_FALSE"]], "kunit_expect_ge (c macro)": [[2, "c.KUNIT_EXPECT_GE"]], "kunit_expect_gt (c macro)": [[2, "c.KUNIT_EXPECT_GT"]], "kunit_expect_le (c macro)": [[2, "c.KUNIT_EXPECT_LE"]], "kunit_expect_lt (c macro)": [[2, "c.KUNIT_EXPECT_LT"]], "kunit_expect_ne (c macro)": [[2, "c.KUNIT_EXPECT_NE"]], "kunit_expect_not_err_or_null (c macro)": [[2, "c.KUNIT_EXPECT_NOT_ERR_OR_NULL"]], "kunit_expect_not_null (c macro)": [[2, "c.KUNIT_EXPECT_NOT_NULL"]], "kunit_expect_null (c macro)": [[2, "c.KUNIT_EXPECT_NULL"]], "kunit_expect_ptr_eq (c macro)": [[2, "c.KUNIT_EXPECT_PTR_EQ"]], "kunit_expect_ptr_ne (c macro)": [[2, "c.KUNIT_EXPECT_PTR_NE"]], "kunit_expect_streq (c macro)": [[2, "c.KUNIT_EXPECT_STREQ"]], "kunit_expect_strneq (c macro)": [[2, "c.KUNIT_EXPECT_STRNEQ"]], "kunit_expect_true (c macro)": [[2, "c.KUNIT_EXPECT_TRUE"]], "kunit_fail (c macro)": [[2, "c.KUNIT_FAIL"]], "kunit_succeed (c macro)": [[2, "c.KUNIT_SUCCEED"]], "kunit (c struct)": [[2, "c.kunit"]], "kunit_case (c struct)": [[2, "c.kunit_case"]], "kunit_err (c macro)": [[2, "c.kunit_err"]], "kunit_info (c macro)": [[2, "c.kunit_info"]], "kunit_kcalloc (c function)": [[2, "c.kunit_kcalloc"]], "kunit_kfree (c function)": [[2, "c.kunit_kfree"]], "kunit_kmalloc (c function)": [[2, "c.kunit_kmalloc"]], "kunit_kmalloc_array (c function)": [[2, "c.kunit_kmalloc_array"]], "kunit_kzalloc (c function)": [[2, "c.kunit_kzalloc"]], "kunit_mark_skipped (c macro)": [[2, "c.kunit_mark_skipped"]], "kunit_skip (c macro)": [[2, "c.kunit_skip"]], "kunit_status (c enum)": [[2, "c.kunit_status"]], "kunit_suite (c struct)": [[2, "c.kunit_suite"]], "kunit_test_init_section_suites (c macro)": [[2, "c.kunit_test_init_section_suites"]], "kunit_test_suites (c macro)": [[2, "c.kunit_test_suites"]], "kunit_warn (c macro)": [[2, "c.kunit_warn"]]}})