Search.setIndex({"docnames": ["development/design", "development/gerrit-workflow", "development/index", "development/prow", "development/start", "development/start_internal", "development/useful-commands", "index", "mocking", "press", "release_notes", "third_party/kernel/index", "third_party/stable_kernel/index", "usage/faq", "usage/getting_kunit", "usage/index"], "filenames": ["development/design.rst", "development/gerrit-workflow.rst", "development/index.rst", "development/prow.rst", "development/start.rst", "development/start_internal.rst", "development/useful-commands.rst", "index.rst", "mocking.rst", "press.rst", "release_notes.rst", "third_party/kernel/index.rst", "third_party/stable_kernel/index.rst", "usage/faq.rst", "usage/getting_kunit.rst", "usage/index.rst"], "titles": ["KUnit Design", "Gerrit Workflow", "Development", "Prow Presubmit for KUnit Gerrit", "Getting Started Developing KUnit", "Getting Started Contributing to non-kernel KUnit repos", "Useful Commands", "KUnit", "Fakes and Stubbing and Mocks, Oh My!", "Press", "Release Notes", "Upstream Version", "Deprecated Version (\u201ckunit/alpha/master\u201d)", "Frequently Asked Questions", "Getting KUnit", "Using KUnit"], "terms": {"practic": 0, "i": [0, 2, 3, 4, 6, 8, 10, 11, 14, 15], "divid": 0, "two": [0, 8, 10], "compon": [0, 7], "more": [0, 1, 2, 3, 4, 5, 7, 8, 9, 10, 13, 14, 15], "often": 0, "refer": [0, 1, 3, 8], "just": [0, 2, 7, 8, 10, 15], "most": [0, 5, 7, 8, 11, 15], "includ": [0, 1, 7, 8, 10, 13], "all": [0, 1, 5, 7, 8, 10, 13, 14, 15], "even": [0, 1, 8], "itself": [0, 2, 8, 10, 14, 15], "ar": [0, 1, 2, 5, 7, 8, 10, 13, 15], "part": [0, 8], "uml": [0, 8, 10, 15], "wai": [0, 7, 8, 12, 14], "compil": [0, 7, 10], "run": [0, 1, 2, 3, 7, 10], "normal": [0, 8], "program": [0, 7, 8], "can": [0, 1, 3, 6, 7, 8, 10, 13, 14, 15], "userspac": [0, 7, 8], "without": [0, 7, 15], "help": [0, 7, 10, 15], "vm": [0, 7], "ani": [0, 5, 7, 8, 10, 15], "virtual": [0, 7], "support": [0, 1, 3, 7, 8, 10], "an": [0, 1, 8, 10, 14, 15], "architectur": [0, 7, 8, 10], "arch": [0, 6], "um": [0, 6], "map": 0, "specif": [0, 8, 10], "element": 0, "which": [0, 1, 3, 7, 8, 10, 14, 15], "would": [0, 1, 8, 10], "low": 0, "hardwar": [0, 7, 14], "featur": [0, 7, 8, 10, 12, 14], "posix": 0, "interfac": [0, 7, 8], "allow": [0, 1, 8, 10, 15], "For": [0, 1, 3, 5, 7, 8, 10, 11, 13, 15], "inform": [0, 1, 2, 3, 5, 15], "see": [0, 1, 4, 5, 7, 8, 10, 14, 15], "http": [0, 1, 3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 14, 15], "sourceforg": 0, "net": [0, 7, 9], "complex": [0, 8], "li": 0, "within": [0, 1], "sever": [0, 1, 7], "The": [0, 1, 3, 5, 7, 8, 14, 15], "schedul": 0, "compos": 0, "initcal": 0, "subsystem": [0, 15], "invok": 0, "handl": [0, 8], "sandbox": 0, "individu": 0, "provid": [0, 1, 2, 7, 8, 10, 15], "wrapper": [0, 8], "around": [0, 5, 8], "api": [0, 7, 8, 10, 14], "commun": 0, "much": [0, 7, 8], "complic": [0, 8], "than": [0, 5, 8], "thi": [0, 1, 2, 4, 5, 7, 10, 11, 13, 14, 15], "full": [0, 8], "overview": [0, 1, 8], "outsid": [0, 2, 5, 8], "scope": 0, "document": [0, 1, 5, 10, 11, 12], "less": [0, 8], "each": [0, 8, 10, 15], "suit": [0, 7, 10], "": [0, 2, 5, 7, 8, 9, 10], "name": [0, 1, 10, 14], "regist": 0, "its": [0, 1, 8], "init": [0, 7, 10], "call": [0, 8, 10, 15], "system": [0, 2, 3, 7, 15], "kunit_test_suit": 0, "when": [0, 1, 7, 8, 10, 13], "boot": [0, 7], "up": [0, 2, 7, 8, 10], "through": [0, 5], "initi": [0, 8], "last": [0, 14], "execut": 0, "associ": 0, "doe": [0, 7, 8], "follow": [0, 4, 5, 8, 10, 15], "failur": [0, 8, 10, 13], "handler": 0, "trap": 0, "subsytem": 0, "function": [0, 7, 9, 10, 14, 15], "kunit_suit": 0, "exit": [0, 8, 10], "dealloc": 0, "alloc": 0, "resourc": [0, 7, 10], "report": [0, 10], "result": [0, 10, 15], "happen": [0, 8], "lib": [0, 10, 14], "c": [0, 1, 7, 8, 10], "current": [0, 1, 8, 10], "kunit_do_assert": 0, "fail": [0, 1, 7, 8, 10], "assert": [0, 7, 8, 9, 10], "void": [0, 8], "struct": [0, 10, 15], "kunit_assert": [0, 15], "bool": [0, 8], "pass": [0, 8, 10], "const": [0, 8], "char": [0, 8], "fmt": 0, "It": [0, 5, 7, 8, 10, 14], "take": [0, 1, 7, 8], "context": [0, 1, 8, 10], "object": [0, 6], "whether": 0, "expect": [0, 13], "log": [0, 10, 11], "messag": [0, 1, 5, 13, 15], "show": [0, 10], "repres": 0, "format": [0, 5, 13, 15], "string": [0, 10], "definit": [0, 8], "found": [0, 3, 14, 15], "here": [0, 1, 2, 3, 5, 7, 8, 11, 12], "git": [0, 1, 4, 5, 11, 14], "org": [0, 1, 4, 5, 7, 9, 10, 11, 13, 14, 15], "pub": [0, 11, 14], "scm": [0, 11, 14], "shuah": [0, 11], "kselftest": [0, 4, 7, 11, 15], "tree": [0, 6], "h": [0, 7, 8, 10, 11], "id": [0, 1, 5, 13], "741a98d022362c90609ac9dcd8ad56314d8e68b3": 0, "n152": 0, "main": [0, 8], "purpos": 0, "serv": 0, "make": [0, 2, 5, 6, 7, 8, 10, 14, 15], "process": [0, 1, 5, 7, 15], "build": [0, 2, 7, 8, 10, 15], "easier": [0, 7, 8], "also": [0, 1, 7, 8, 10, 11], "place": [0, 5, 7, 8], "where": [0, 1, 8, 10, 15], "workaround": [0, 8], "ad": [0, 8, 10], "exampl": [0, 1, 7, 8, 10, 13], "some": [0, 1, 7, 8, 10, 12, 13], "bug": [0, 8], "crash": [0, 10], "corrupt": 0, "termin": 0, "set": [0, 2, 7, 8, 10, 14, 15], "work": [0, 1, 2, 5, 7, 8, 10, 14, 15], "fix": [0, 10], "One": [0, 8, 9, 10], "pars": [0, 10], "output": [0, 10], "print": [0, 1, 10, 13, 15], "out": [0, 5, 7, 8, 10, 13, 15], "summar": [0, 8, 10], "nice": [0, 8, 15], "human": 0, "readabl": 0, "kunit": [1, 2, 10, 11, 13], "both": [1, 8, 10], "unit": [1, 8, 9, 10], "test": [1, 3, 6, 8, 9, 10, 12, 13, 14], "code": [1, 2, 5, 7, 8, 10, 14, 15], "linux": [1, 2, 5, 6, 7, 9, 10, 11, 12, 14, 15], "kernel": [1, 2, 8, 9, 10, 11, 13, 14, 15], "project": 1, "whole": [1, 8], "other": [1, 4, 5, 7, 8, 15], "mean": [1, 5, 8, 13, 15], "usual": [1, 7], "clear": [1, 7], "us": [1, 2, 3, 4, 5, 10, 12, 13, 14], "With": [1, 8], "said": 1, "made": [1, 10, 12, 14], "repositori": [1, 7, 11], "As": [1, 6], "mention": 1, "elsewher": [1, 8], "actual": [1, 7], "upstream": [1, 5, 7, 10, 12], "our": [1, 3, 5, 7, 8], "introduct": [1, 4, 9], "high": [1, 2], "level": [1, 2, 7, 10], "googlesourc": [1, 3, 5, 7, 12, 14], "com": [1, 3, 4, 5, 7, 8, 9, 12, 14, 15], "intro": 1, "user": [1, 5, 7, 8, 15], "html": [1, 4, 5, 8, 10, 15], "detail": [1, 4, 5, 7, 8, 10, 13, 14, 15], "try": [1, 7, 8, 10, 15], "github": [1, 3], "io": [1, 8], "section": [1, 4, 5, 10], "describ": [1, 8], "how": [1, 2, 8, 9, 10], "If": [1, 5, 7, 8, 10, 13, 14, 15], "you": [1, 2, 5, 7, 8, 10, 12, 13, 14, 15], "have": [1, 5, 7, 8, 10, 11, 12, 14, 15], "done": [1, 8, 11, 14], "so": [1, 8, 10, 13, 15], "yet": [1, 14], "want": [1, 2, 5, 7, 8, 10, 14, 15], "prow": [1, 2, 7], "presubmit": [1, 2, 7], "master": [1, 4, 5, 7, 11, 14], "while": [1, 2, 8], "need": [1, 3, 7, 10, 13, 15], "remot": 1, "fetch": 1, "command": [1, 2, 7, 10, 15], "origin": [1, 5, 8], "default": [1, 10, 15], "wa": [1, 8, 10, 14], "now": [1, 5, 7, 8, 10], "local": [1, 7, 8], "onli": [1, 3, 4, 8, 10], "mai": [1, 5, 8, 15], "rebas": 1, "get": [1, 2, 8, 10, 15], "case": [1, 2, 7, 8, 10], "alreadi": [1, 5, 8, 10], "underwai": 1, "we": [1, 2, 3, 5, 7, 10, 11, 12, 13, 15], "assum": [1, 8], "pull": [1, 8], "ff": 1, "forc": [1, 8], "merg": 1, "import": [1, 5], "do": [1, 10, 15], "commit": [1, 5, 10], "onc": [1, 8, 10, 15], "happi": 1, "like": [1, 4, 5, 7, 8, 10, 14, 15], "add": [1, 8, 10], "path": [1, 7, 8, 10], "file": [1, 5, 6, 7, 8, 10, 13, 14, 15], "modifi": 1, "differ": [1, 2, 7, 8, 10, 15], "A": [1, 7, 8], "should": [1, 5, 8, 10, 12, 14, 15], "logic": [1, 10], "bite": 1, "size": [1, 10], "easi": [1, 7, 8, 15], "understand": [1, 8], "subject": 1, "line": [1, 10], "top": [1, 7], "vagu": 1, "idea": 1, "what": [1, 8], "bodi": 1, "bottom": 1, "changeid": [1, 5], "sign": [1, 2], "off": [1, 5, 8], "www": [1, 4, 5, 7, 9, 15], "doc": [1, 4, 5, 8, 10, 11, 12, 15], "latest": [1, 4, 5, 10, 15], "submit": [1, 2, 7], "patch": [1, 5, 8, 14, 15], "develop": [1, 5, 7, 9, 11, 14, 15], "certif": [1, 5], "them": [1, 7, 8, 15], "push": [1, 5, 8], "let": [1, 8, 10], "sai": [1, 5, 8], "u": [1, 5, 8], "head": [1, 5, 14, 15], "ref": [1, 5, 14], "succe": 1, "respond": 1, "link": 1, "find": 1, "anoth": [1, 8], "over": [1, 8], "under": [1, 2, 5, 7, 8, 10, 15], "version": [1, 7, 8, 10, 13, 15], "those": 1, "2569": 1, "depend": [1, 7, 8, 10, 13, 15], "click": 1, "download": 1, "button": 1, "option": [1, 8, 10, 14], "copi": [1, 11, 12, 15], "69": 1, "1": [1, 7, 8], "fetch_head": 1, "misplac": 1, "lost": 1, "look": [1, 7, 10], "progress": 1, "accomplish": [1, 6], "against": [1, 8, 11, 14], "address": 1, "comment": 1, "mayb": [1, 8], "realiz": [1, 8], "forgot": [1, 8], "someth": [1, 8], "earlier": [1, 13], "interact": [1, 6], "veri": [1, 8], "power": [1, 10], "discuss": [1, 4, 8], "dev": [1, 4, 7, 10, 15], "blakedebo": 1, "beginn": 1, "guid": [1, 4, 7, 15], "1ob": 1, "might": [1, 8], "been": [1, 5, 10], "caus": [1, 8, 10], "yell": 1, "same": [1, 7, 8], "were": 1, "wonder": 1, "know": [1, 2, 5, 8], "replac": [1, 8, 10], "old": [1, 12, 14], "locat": 1, "ones": 1, "secret": 1, "almost": 1, "never": [1, 8], "tell": [1, 10], "befor": [1, 8, 10], "though": [1, 15], "everyth": [1, 10], "about": [1, 2, 7, 8], "hash": [1, 8], "start": [2, 7, 15], "your": [2, 5, 8, 10, 13, 15], "environ": 2, "familiar": 2, "yourself": 2, "design": [2, 7], "contribut": 2, "structur": [2, 8], "manual": [2, 7, 10], "clean": [2, 7], "gerrit": [2, 5, 7, 14], "non": [2, 4, 7, 8, 10], "repo": [2, 3, 4, 7], "why": 2, "contributor": 2, "licens": 2, "agreement": 2, "chang": [2, 8, 10, 13, 15], "workflow": [2, 5, 7], "from": [2, 7, 8, 10, 11, 12, 15], "scratch": [2, 7], "updat": [2, 8, 10], "exist": [2, 8], "page": [2, 5, 8, 9, 10, 15], "These": [2, 7], "plan": 2, "submiss": 2, "realli": [2, 7, 12], "advanc": 2, "hood": 2, "checkout": 2, "learn": 2, "organ": 2, "got": [2, 13], "collect": 2, "tip": [2, 10], "trick": 2, "ci": [2, 3, 7], "cd": [2, 3, 7], "kubernet": 3, "base": [3, 8], "ha": [3, 5, 7, 8, 10, 12, 14], "built": [3, 8, 10], "integr": [3, 15], "thing": [3, 8], "special": [3, 7, 8], "runner": 3, "contain": [3, 10, 15], "maintain": [3, 15], "config": [3, 6, 10, 15], "specifi": [3, 13, 15], "googl": [3, 5, 7, 8, 14], "oss": 3, "cluster": 3, "pleas": [3, 4, 5, 7, 15], "instruct": 4, "In": [4, 5, 8, 10, 13], "addit": [4, 8, 10], "rememb": 4, "cc": 4, "googlegroup": [4, 7, 15], "vger": [4, 15], "live": [4, 5], "appli": [4, 8], "deprec": [4, 7], "alpha": [4, 7, 14], "branch": [4, 11, 14, 15], "one": [4, 5, 8], "host": [4, 7, 14], "site": 4, "directli": [5, 7, 8, 14], "lot": [5, 8, 15], "longer": [5, 8, 10], "thu": 5, "rule": [5, 15], "howev": [5, 7, 10, 14], "manag": [5, 8, 15], "open": 5, "sourc": [5, 10, 15], "everyon": [5, 8], "equal": 5, "right": [5, 8], "becaus": [5, 8], "umbrella": 5, "foundat": [5, 9], "certain": [5, 7, 8], "send": [5, 8, 15], "abov": [5, 7, 8], "still": [5, 8, 10, 12, 15], "confus": [5, 13], "feel": [5, 15], "free": [5, 15], "reach": 5, "sent": [5, 8], "via": [5, 7, 8, 10, 15], "mail": [5, 7], "list": [5, 7, 10, 14, 15], "requir": [5, 7, 8, 10, 13], "cla": 5, "compani": 5, "review": [5, 15], "order": 5, "accept": [5, 8, 15], "must": 5, "first": [5, 7, 8], "sure": [5, 13], "correctli": [5, 13], "readi": 5, "sometim": 6, "debug": [6, 7, 10], "py": [6, 7, 10, 15], "between": 6, "cp": 6, "kunitconfig": [6, 10, 13, 14, 15], "j": 6, "12": [6, 7], "mem": 6, "1g": 6, "log_buf_len": 6, "2m": 6, "typic": [6, 8], "fulli": [6, 8], "mrproper": 6, "frequent": [7, 15], "ask": [7, 10, 15], "question": [7, 15], "write": [7, 8, 10], "releas": 7, "note": [7, 8], "5": [7, 8, 14], "6": 7, "7": [7, 8], "8": 7, "9": 7, "10": 7, "11": 7, "13": 7, "14": 7, "15": 7, "16": 7, "17": 7, "18": 7, "19": 7, "0": [7, 8], "2": [7, 8], "3": [7, 8], "fake": [7, 14], "stub": 7, "mock": [7, 12, 14], "oh": 7, "my": [7, 10], "versu": 7, "redirect": [7, 9, 10], "store": [7, 10, 14], "access": 7, "state": [7, 15], "press": 7, "talk": 7, "articl": 7, "lightweight": [7, 8], "framework": [7, 8, 9], "abl": [7, 8], "workstat": 7, "heavili": 7, "inspir": 7, "junit": [7, 8], "python": [7, 8], "unittest": [7, 8], "googletest": [7, 8], "googlemock": 7, "facil": 7, "defin": [7, 8], "group": 7, "relat": [7, 8], "common": 7, "infrastructur": 7, "focus": 7, "small": 7, "few": [7, 8], "avoid": [7, 8], "extern": 7, "possibl": [7, 8, 10, 12], "ideal": [7, 15], "stabl": 7, "faster": [7, 8], "thei": [7, 8, 15], "impli": 7, "re": [7, 8, 14], "reli": [7, 8, 10], "enough": [7, 8], "intern": [7, 10], "librari": 7, "e": [7, 8, 10], "g": [7, 8, 10], "good": 7, "far": [7, 8], "That": [7, 8], "face": 7, "ll": [7, 8, 10, 13, 14, 15], "But": 7, "well": 7, "hard": [7, 8], "trigger": 7, "particularli": 7, "error": [7, 8, 14, 15], "furthermor": 7, "probabl": [7, 8], "hermet": [7, 8, 10], "instead": [7, 8, 10, 13], "machin": 7, "wait": [7, 8], "come": [7, 8], "script": 7, "modul": [7, 8, 10, 15], "helper": 7, "tool": [7, 10, 15], "selftest": 7, "kselftest_modul": 7, "boilerpl": [7, 8], "scatter": 7, "across": 7, "potenti": [7, 8], "directori": [7, 10, 14], "mode": [7, 15], "arm": 7, "x86": 7, "unlik": [7, 8], "standalon": 7, "insid": 7, "oper": [7, 8], "regular": 7, "fast": [7, 8], "desktop": 7, "second": [7, 8], "mainli": [7, 8], "new": [7, 8, 9, 10], "usag": [7, 10, 14], "explan": [7, 14], "later": [7, 9, 10], "web": 7, "forum": 7, "irc": 7, "oftc": 7, "riot": 7, "matrix": 7, "vim": 7, "plugin": 7, "etc": [7, 8, 10, 12], "md": 7, "seek": 8, "task": 8, "mani": [8, 10], "peopl": 8, "term": 8, "latter": 8, "fine": 8, "keep": 8, "concept": 8, "separ": [8, 10], "lack": 8, "either": 8, "due": [8, 10], "fact": 8, "trade": 8, "gener": [8, 10, 15], "solut": 8, "consid": 8, "goal": 8, "care": 8, "canon": 8, "databas": 8, "d": 8, "verifi": [8, 15], "behav": 8, "properli": 8, "insert": 8, "row": 8, "don": [8, 10], "t": [8, 10, 12, 14], "bring": 8, "everi": 8, "Not": 8, "opportun": 8, "break": 8, "uninterest": 8, "transient": 8, "network": 8, "issu": [8, 10], "construct": 8, "implement": 8, "simpli": 8, "memori": [8, 10], "hashtabl": 8, "arrai": 8, "reliabl": 8, "scabil": 8, "real": [8, 10], "terminologi": 8, "roughli": 8, "martinfowl": 8, "bliki": 8, "testdoubl": 8, "doubl": 8, "kind": 8, "return": 8, "valu": [8, 10], "input": 8, "mimic": 8, "semant": 8, "overhead": [8, 10], "tabl": 8, "devic": [8, 9], "buffer": 8, "max_siz": 8, "sens": 8, "written": [8, 14], "wherea": 8, "facilit": 8, "recommend": [8, 15], "creat": 8, "briefli": [8, 10], "fragil": 8, "sinc": [8, 14], "behavior": 8, "rather": 8, "imagin": 8, "gmock": 8, "syntax": 8, "send_data": 8, "data_sink": 8, "sink": 8, "fanci": 8, "calcul": 8, "figur": 8, "hello": 8, "world": 8, "test_send_data": 8, "make_mock_datasink": 8, "expect_cal": 8, "willonc": 8, "And": [8, 15], "ve": [8, 13], "twice": 8, "effect": [8, 10], "oop": 8, "contrast": 8, "append": [8, 10], "valid": [8, 15], "kunit_expect_streq": 8, "further": [8, 10], "author": 8, "themselv": 8, "mistak": 8, "after": 8, "refactor": 8, "unrealist": 8, "fashion": 8, "eventu": 8, "lead": 8, "behaviour": 8, "super": 8, "expens": 8, "Or": 8, "prefetchw": 8, "data": [8, 10], "cach": 8, "until": 8, "hit": 8, "disk": 8, "could": 8, "valuabl": 8, "robust": 8, "regardless": 8, "useless": 8, "unless": [8, 15], "swap": 8, "better": 8, "real_funct": 8, "go": 8, "fake_funct": 8, "java": 8, "fairli": 8, "techniqu": 8, "dynam": 8, "dispatch": 8, "languag": 8, "runtim": 8, "problem": 8, "boil": 8, "down": [8, 10], "layer": 8, "indirect": 8, "variou": [8, 15], "choos": 8, "below": [8, 14], "static": [8, 10], "func_under_test": 8, "unsaf": 8, "send_data_to_hardwar": 8, "n": [8, 10], "rfc": 8, "seri": [8, 9, 14], "team": 8, "attempt": [8, 10], "feedback": 8, "welcom": 8, "rest": 8, "doesn": [8, 10], "straightforward": 8, "fundament": 8, "send_data_func": 8, "str": 8, "Being": 8, "bit": [8, 10, 14], "sophist": 8, "introduc": [8, 9, 10], "hold": 8, "send_op": 8, "todo": 8, "dlatypov": 8, "simplest": 8, "subsequ": 8, "global": [8, 10], "mess": 8, "There": 8, "plenti": 8, "throughout": 8, "convent": [8, 10], "seen": 8, "suffici": 8, "invas": 8, "isn": 8, "pattern": 8, "argument": [8, 10, 15], "publicli": 8, "expos": [8, 10], "macro": [8, 10, 13, 15], "oppos": 8, "improv": [8, 13], "involv": 8, "direct": 8, "ifdef": 8, "config_my_kunit_test": 8, "check": [8, 10], "endif": 8, "inject": 8, "along": 8, "config_my_kunit": 8, "m": [8, 10, 15], "mitig": 8, "standard": 8, "behind": 8, "shini": 8, "ensur": 8, "kthread": 8, "undon": 8, "becom": 8, "kunit_static_stub_redirect": 8, "int": 8, "times_cal": 8, "fake_send_data_to_hardwar": 8, "durat": 8, "kunit_activate_static_stub": 8, "kunit_expect_eq": [8, 10, 13], "deactiv": 8, "earli": 8, "kunit_deactivate_static_stub": 8, "again": 8, "No": 8, "coder": 8, "suitabl": 8, "own": [8, 10], "pollut": 8, "larg": [8, 10], "scale": 8, "sparingli": 8, "narrow": 8, "minim": 8, "linker": 8, "weak": 8, "overrid": 8, "risk": 8, "accident": 8, "mark": [8, 10], "config_kunit": [8, 10, 13], "__mockabl": 8, "els": 8, "overal": 8, "similar": 8, "friend": 8, "strip": 8, "big": 8, "concern": 8, "discard": 8, "won": 8, "harder": 8, "explicit": 8, "happili": 8, "warn": 8, "indic": [8, 10], "togeth": [8, 10], "someon": 8, "life": 8, "dure": [8, 10], "cours": [8, 15], "clever": 8, "pai": 8, "cost": 8, "intercept": [8, 10], "kmalloc": 8, "too": 8, "callsit": 8, "unwis": 8, "__mockable_wrapp": 8, "perform": [8, 10], "__always_inlin": 8, "kmalloc_wrapp": 8, "size_t": 8, "gfp_t": 8, "gfp": 8, "affect": [8, 15], "tempor": 8, "kmalloc_ptr": 8, "revert": 8, "back": 8, "my_fake_kmalloc": 8, "some_test_funct": 8, "42": 8, "cleanli": 8, "particular": [8, 13], "variabl": [8, 10], "thread": [8, 15], "safe": 8, "elimin": 8, "unchang": 8, "relev": [8, 15], "being": [8, 15], "long": 8, "somewhat": 8, "hurt": 8, "legibl": 8, "decent": 8, "amount": [8, 15], "singl": 8, "best": 8, "reserv": 8, "kei": [8, 10], "share": 8, "flexibl": 8, "assign": 8, "arbitrari": 8, "pointer": [8, 15], "inherit": 8, "livepatch": 8, "inlin": 8, "undo": 8, "exact": 8, "noinlin": 8, "enabl": [8, 10], "otherwis": [8, 14], "noth": 8, "kunit_stubb": 8, "kunit_activate_ftrace_stub": 8, "kunit_deactivate_ftrace_stub": 8, "least": 8, "revers": 8, "number": [8, 15], "kconfig": [8, 10, 15], "magic": 8, "challeng": 8, "track": [8, 10], "paramet": [8, 10], "signatur": 8, "stash": 8, "somewher": 8, "kunit_test": 8, "kunit_add_named_resourc": 8, "retriev": [8, 10], "mock_writ": 8, "per": [8, 10], "kunit_resourc": 8, "mock_write_data": 8, "should_return_error": 8, "mock_write_data_resourc": 8, "mock_write_init": 8, "fals": 8, "null": [8, 10], "kunit_find_named_resourc": 8, "kunit_fail": [8, 10], "Then": 8, "example_write_test": 8, "true": 8, "kunit_expect_lt": 8, "hi": 8, "ti": 8, "obvious": 8, "target": 8, "emploi": 8, "container_of": 8, "shenanigan": 8, "To": [8, 15], "simpler": 8, "writer": 8, "init_mock_writ": 8, "example_simple_test": 8, "seem": 8, "truth": 8, "inod": 8, "inode_oper": 8, "i_op": 8, "member": 8, "dentri": 8, "easili": 8, "convert": 8, "d_inod": 8, "realist": 8, "mock_inod": 8, "stuff": 8, "readlink_err": 8, "get_acl_err": 8, "posix_acl": 8, "mock_get_acl": 8, "type": 8, "err_ptr": 8, "posix_acl_alloc": 8, "gfp_kernel": 8, "mock_readlink": 8, "__user": 8, "buflen": 8, "indrectli": 8, "mock_inode_oper": 8, "get_acl": 8, "readlink": 8, "mock_inode_init": 8, "plumber": 9, "confer": 9, "2019": 9, "conf": 9, "au": 9, "2020": 9, "year": 9, "past": 9, "present": 9, "futur": 9, "2021": 9, "stragegi": 9, "mentorship": 9, "bridg": 9, "gap": 9, "2022": 9, "physic": 9, "driver": 9, "sorceri": 9, "uncanni": 9, "natur": 9, "fpu": 9, "drm": 9, "x": 9, "uncov": 9, "coverag": [9, 10], "lwn": 9, "780985": 9, "linuxjourn": 9, "content": [9, 10], "790235": 9, "phoronix": 9, "scan": 9, "php": 9, "news_item": 9, "px": 9, "v1": 9, "hub": 9, "packtpub": 9, "basic": 10, "renam": 10, "switch": 10, "dir": 10, "config_kunit_debugf": 10, "sy": 10, "exec": 10, "config_kunit_all_test": 10, "foo_kunit_test": 10, "tristat": 10, "foo": 10, "kunit_all_test": 10, "authorit": 10, "entri": [10, 13], "intend": [10, 13], "cleaner": 10, "altern": 10, "test_kasan": 10, "kasan_data": 10, "kasan": 10, "violat": 10, "parameter": 10, "f": 10, "ext4": 10, "subset": 10, "glob": 10, "kunit_fail_current_test": 10, "anywher": 10, "invari": 10, "broken": 10, "ubsan": 10, "detect": 10, "implicitli": 10, "qemu": 10, "kunit_skip": 10, "bail": 10, "skip": 10, "commandlin": 10, "kernel_arg": 10, "summari": 10, "dmesg": 10, "properti": 10, "total": 10, "filter": 10, "mysuit": 10, "run_isol": 10, "rewritten": 10, "slightli": 10, "mostli": 10, "time": [10, 15], "raw_output": 10, "significantli": 10, "revamp": 10, "tweak": 10, "kconfig_add": 10, "my_config": 10, "y": [10, 13, 14], "reconfigur": 10, "remov": 10, "edit": 10, "flag": [10, 15], "sub": 10, "raw": 10, "37": 10, "ext4_inode_test": 10, "subtest": 10, "inode_test_xtimestamp_decod": 10, "1901": 10, "lower": 10, "bound": 10, "32bit": 10, "timestamp": 10, "extra": 10, "2446": 10, "05": 10, "upper": 10, "sec": 10, "drastic": 10, "decreas": 10, "stack": 10, "kunit_expect_": [10, 15], "optim": 10, "awai": 10, "didn": 10, "alwai": 10, "x86_64": 10, "32": 10, "byte": 10, "88": 10, "suite_init": 10, "suite_exit": 10, "kunit_expect_nul": 10, "kunit_expect_not_nul": 10, "split": 10, "automat": 10, "color": 10, "stdout": 10, "tty": 10, "curat": 10, "all_tests_uml": 10, "quot": 10, "qemu_config": 10, "256": 10, "overhaul": 10, "wouldn": 10, "had": 10, "module_init": 10, "module_exit": 10, "restrict": 10, "gone": 10, "qemu_arg": 10, "2048": 10, "give": 10, "ram": 10, "repeat": 10, "concatenant": 10, "coverage_uml": 10, "taint": 10, "taint_test": 10, "64": 10, "By": 10, "pci": 10, "alltest": 10, "all_test": 10, "allyesconfig": 10, "virtio": 10, "reduct": 10, "consumpt": 10, "On": [10, 15], "24": [10, 15], "edg": 10, "kunit_kfre": 10, "match": 10, "kfree": 10, "op": 10, "invalid_ptr": 10, "nich": 10, "prefer": [10, 12], "forcibli": 10, "prevent": 10, "config_kunit_default_en": 10, "space": [], "_kunit_fail": [], "declar": [], "kunit_expect_memeq": 10, "b": 10, "compar": [10, 13], "block": 10, "memcmp": 10, "highlight": 10, "region": 10, "example_all_expect_macros_test": [], "avail": [10, 15], "decim": 10, "hexadecim": 10, "kunit_run": [], "activ": 10, "hide": [], "reduc": 10, "impact": [], "nop": [], "kunit_tool_test": [], "testdata": [], "read": [], "testcount": [], "dataclass": [], "pre": [], "popul": [], "parser": 10, "redund": [], "close": [], "meet": [], "ktap": 10, "kunit_init_": [], "_assert_struct": [], "kunit_init_mem_assert": [], "kunit_pars": [], "clearli": [], "json": [], "descript": 10, "clarifi": [], "unnecessari": [], "raw_ouput": [], "header": 10, "preserv": [], "white": [], "condition": 10, "symbol": 10, "rst": 10, "style": 10, "grammat": 10, "superset": 10, "reword": 10, "next": 10, "step": 10, "hook": 10, "static_stub": 10, "correspond": 10, "taken": [11, 12], "conveni": 11, "torvald": [11, 14], "mirror": 11, "haven": [12, 14], "class": [12, 14], "death": 12, "miss": [13, 15], "wrong": 13, "spelt": 13, "correct": 13, "config_test": 13, "bugzilla": 13, "show_bug": 13, "cgi": 13, "205235": 13, "wish": 13, "_ptr": 13, "variant": 13, "kunit_expect": 13, "kunit_expect_ptr_eq": 13, "ptr1": 13, "ptr2": 13, "backport": 14, "begin": 14, "resort": 14, "incompat": 14, "newer": 14, "primarili": 14, "prior": 14, "ceas": 14, "coupl": 14, "platform": 14, "recoveri": 14, "compat": 14, "config_kunit_use_upstream_nam": 14, "act": 14, "instanc": 14, "root": 15, "integ": 15, "cast": 15, "cover": 15, "timeout": 15, "30": 15, "job": 15, "defconfig": 15, "maximum": 15, "screen": 15, "bin": 15, "sh": 15, "flex": 15, "similarli": 15, "bison": 15, "packag": 15, "apt": 15, "instal": 15, "sudo": 15, "alongsid": 15, "treat": 15, "guidelin": 15, "laid": 15, "tent": 7, "kunit_get_current_test": 10, "compliant": 10, "denot": [], "nest": [], "visible_if_kunit": 10, "export_symbol_if_kunit": 10, "b11e51dd70947107fa4076c6286dce301671afc1": [], "__": [], "apparmor": 10, "visibl": 10}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"kunit": [0, 3, 4, 5, 6, 7, 8, 9, 12, 14, 15], "design": [0, 4], "high": 0, "level": [0, 8], "structur": 0, "user": 0, "mode": 0, "linux": [0, 4], "kernel": [0, 4, 5, 6, 7], "test": [0, 7, 15], "runner": 0, "case": 0, "librari": 0, "py": 0, "gerrit": [1, 3], "workflow": 1, "start": [1, 4, 5, 11, 12], "from": [1, 13], "scratch": 1, "clone": 1, "repo": [1, 5], "first": 1, "time": [1, 8], "checkout": 1, "desir": 1, "branch": 1, "make": [1, 13], "sure": 1, "your": [1, 4], "i": [1, 5, 7, 13], "up": [1, 4], "date": 1, "chang": [1, 5], "send": 1, "review": 1, "updat": 1, "exist": 1, "check": 1, "out": 1, "someon": 1, "els": 1, "": [1, 4], "again": 1, "develop": [2, 4], "content": [2, 7, 15], "prow": 3, "presubmit": 3, "get": [4, 5, 7, 11, 12, 14], "set": 4, "work": 4, "environ": 4, "familiar": 4, "yourself": 4, "contribut": [4, 5, 7], "code": [4, 11, 12], "outsid": 4, "non": 5, "why": [5, 7, 8], "differ": 5, "sign": 5, "contributor": 5, "licens": 5, "agreement": 5, "submit": [5, 15], "us": [6, 7, 8, 15], "command": 6, "build": 6, "run": [6, 8, 15], "manual": 6, "clean": 6, "what": 7, "who": 7, "unit": 7, "In": 7, "uml": 7, "how": 7, "do": [7, 8], "where": [7, 11, 12, 14], "connect": 7, "u": 7, "fake": 8, "stub": 8, "mock": 8, "oh": 8, "my": 8, "we": 8, "need": 8, "thi": 8, "versu": 8, "downsid": 8, "upsid": 8, "function": 8, "redirect": 8, "op": 8, "struct": 8, "class": 8, "pro": 8, "con": 8, "compil": 8, "link": 8, "__weak": 8, "symbol": 8, "hybrid": 8, "approach": 8, "limit": 8, "scope": 8, "binari": 8, "ftrace": 8, "et": 8, "al": 8, "store": 8, "access": 8, "state": 8, "name": 8, "resourc": 8, "without": [8, 13], "press": 9, "talk": 9, "about": 9, "articl": 9, "releas": 10, "note": 10, "5": 10, "6": 10, "7": 10, "8": 10, "9": 10, "10": 10, "11": 10, "12": 10, "13": 10, "14": 10, "15": 10, "16": 10, "17": 10, "18": 10, "19": 10, "0": 10, "1": 10, "2": 10, "3": 10, "upstream": [11, 14, 15], "version": [11, 12, 14], "guid": [11, 12], "deprec": [12, 14], "alpha": 12, "master": 12, "frequent": 13, "ask": 13, "question": 13, "m": 13, "see": 13, "error": 13, "root": 13, "kconfig": 13, "contain": 13, "valid": 13, "config": 13, "lot": 13, "integ": 13, "pointer": 13, "cast": 13, "kunit_assert": 13, "ar": 14, "write": 15, "tent": 10}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"KUnit Design": [[0, "kunit-design"]], "High Level Structure": [[0, "high-level-structure"]], "User Mode Linux": [[0, "user-mode-linux"]], "KUnit Kernel": [[0, "kunit-kernel"]], "Test Runner": [[0, "test-runner"]], "Test Case Runner": [[0, "test-case-runner"]], "Test Library": [[0, "test-library"]], "kunit.py": [[0, "kunit-py"]], "Gerrit Workflow": [[1, "gerrit-workflow"]], "Starting from Scratch": [[1, "starting-from-scratch"]], "Cloning a repo for the first time": [[1, "cloning-a-repo-for-the-first-time"]], "Checkout the desired branch": [[1, "checkout-the-desired-branch"]], "Make sure your branch is up to date": [[1, "make-sure-your-branch-is-up-to-date"]], "Making a change": [[1, "making-a-change"]], "Sending changes for review": [[1, "sending-changes-for-review"]], "Updating Existing Changes": [[1, "updating-existing-changes"]], "Checking out someone else\u2019s changes": [[1, "checking-out-someone-else-s-changes"]], "Updating changes": [[1, "id1"]], "Sending changes for review (again)": [[1, "sending-changes-for-review-again"]], "Development": [[2, "development"]], "Contents:": [[2, null], [7, null], [15, null]], "Prow Presubmit for KUnit Gerrit": [[3, "prow-presubmit-for-kunit-gerrit"]], "Getting Started Developing KUnit": [[4, "getting-started-developing-kunit"]], "Setting Up Your Work Environment": [[4, "setting-up-your-work-environment"]], "Familiarize Yourself with KUnit\u2019s Design": [[4, "familiarize-yourself-with-kunit-s-design"]], "Contributing to code in the Linux kernel": [[4, "contributing-to-code-in-the-linux-kernel"]], "Contributing to code outside of the Linux kernel": [[4, "contributing-to-code-outside-of-the-linux-kernel"]], "Getting Started Contributing to non-kernel KUnit repos": [[5, "getting-started-contributing-to-non-kernel-kunit-repos"]], "Why is there a difference?": [[5, "why-is-there-a-difference"]], "Sign the Contributor License Agreement": [[5, "sign-the-contributor-license-agreement"]], "Submitting Changes": [[5, "submitting-changes"]], "Useful Commands": [[6, "useful-commands"]], "Building and Running KUnit Manually": [[6, "building-and-running-kunit-manually"]], "Cleaning the Kernel": [[6, "cleaning-the-kernel"]], "KUnit": [[7, "kunit"]], "What is KUnit?": [[7, "what-is-kunit"]], "Who is it for?": [[7, "who-is-it-for"]], "Why unit test the kernel?": [[7, "why-unit-test-the-kernel"]], "In-kernel testing": [[7, "in-kernel-testing"]], "Why KUnit?": [[7, "why-kunit"]], "UML": [[7, "uml"]], "How do I use it?": [[7, "how-do-i-use-it"]], "Where do I get it?": [[7, "where-do-i-get-it"]], "Connect with us": [[7, "connect-with-us"]], "Contributing": [[7, "contributing"]], "Fakes and Stubbing and Mocks, Oh My!": [[8, "fakes-and-stubbing-and-mocks-oh-my"]], "Why do we need this?": [[8, "why-do-we-need-this"]], "Fakes versus mocks": [[8, "fakes-versus-mocks"]], "Downsides of mocking": [[8, "downsides-of-mocking"]], "Upsides of mocking": [[8, "upsides-of-mocking"]], "Function redirection": [[8, "function-redirection"]], "Run time (ops structs, \u201cclass mocking\u201d)": [[8, "run-time-ops-structs-class-mocking"]], "Pros:": [[8, "pros"], [8, "id1"], [8, "id3"], [8, "id5"], [8, "id8"]], "Cons:": [[8, "cons"], [8, "id2"], [8, "id4"], [8, "id6"], [8, "id9"]], "Compile time": [[8, "compile-time"]], "Link time (__weak symbols)": [[8, "link-time-weak-symbols"]], "Hybrid approaches (limiting scope)": [[8, "hybrid-approaches-limiting-scope"]], "Binary-level (ftrace et. al)": [[8, "binary-level-ftrace-et-al"]], "Storing and accessing state for fakes/mocks": [[8, "storing-and-accessing-state-for-fakes-mocks"]], "Using named resources": [[8, "using-named-resources"]], "Storing state without KUnit": [[8, "storing-state-without-kunit"]], "Press": [[9, "press"]], "Talks about KUnit": [[9, "talks-about-kunit"]], "Articles about KUnit": [[9, "articles-about-kunit"]], "Upstream Version": [[11, "upstream-version"]], "Where to get the code": [[11, "where-to-get-the-code"], [12, "where-to-get-the-code"]], "Getting Started Guide": [[11, "getting-started-guide"], [12, "getting-started-guide"]], "Deprecated Version (\u201ckunit/alpha/master\u201d)": [[12, "deprecated-version-kunit-alpha-master"]], "Frequently Asked Questions": [[13, "frequently-asked-questions"]], "I\u2019m seeing \u2018Error:root:Kconfig is not contained in validated .config!\u2019": [[13, "im-seeing-error-root-kconfig-is-not-contained-in-validated-config"]], "I\u2019m seeing a lot of \u2018makes integer from pointer without a cast\u2019 errors in KUNIT_ASSERTION": [[13, "im-seeing-a-lot-of-makes-integer-from-pointer-without-a-cast-errors-in-kunit-assertion"]], "Getting KUnit": [[14, "getting-kunit"]], "Where are these versions?": [[14, "where-are-these-versions"]], "Upstream": [[14, "upstream"]], "Deprecated": [[14, "deprecated"]], "Using KUnit": [[15, "using-kunit"]], "Running tests": [[15, "running-tests"]], "Writing tests": [[15, "writing-tests"]], "Submitting tests upstream": [[15, "submitting-tests-upstream"]], "Release Notes": [[10, "release-notes"]], "5.5": [[10, "v5-5"]], "5.6": [[10, "v5-6"]], "5.7": [[10, "v5-7"]], "5.8": [[10, "v5-8"]], "5.9": [[10, "v5-9"]], "5.10": [[10, "v5-10"]], "5.11": [[10, "v5-11"]], "5.12": [[10, "v5-12"]], "5.13": [[10, "v5-13"]], "5.14": [[10, "v5-14"]], "5.15": [[10, "v5-15"]], "5.16": [[10, "v5-16"]], "5.17": [[10, "v5-17"]], "5.18": [[10, "v5-18"]], "5.19": [[10, "v5-19"]], "6.0": [[10, "v6-0"]], "6.1": [[10, "v6-1"]], "6.2": [[10, "id18"]], "6.3 (tentative)": [[10, "tentative"]]}, "indexentries": {}})